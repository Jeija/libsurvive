#pragma once
#include "common.h"
// clang-format off
static inline void gen_imu_rot_f(FLT* out, const FLT time, const FLT* imu_rot) {
	const GEN_FLT obj_qw = imu_rot[0];
	const GEN_FLT obj_qi = imu_rot[1];
	const GEN_FLT obj_qj = imu_rot[2];
	const GEN_FLT obj_qk = imu_rot[3];
	const GEN_FLT aa_x = imu_rot[4];
	const GEN_FLT aa_y = imu_rot[5];
	const GEN_FLT aa_z = imu_rot[6];
	const GEN_FLT x0 = time * time;
	const GEN_FLT x1 = x0 * (aa_z * aa_z);
	const GEN_FLT x2 = x0 * (aa_x * aa_x);
	const GEN_FLT x3 = x0 * (aa_y * aa_y);
	const GEN_FLT x4 = 1e-10 + x3 + x1 + x2;
	const GEN_FLT x5 = sqrt(x4);
	const GEN_FLT x6 = 0.5 * x5;
	const GEN_FLT x7 = sin(x6);
	const GEN_FLT x8 = (1. / x4) * (x7 * x7);
	const GEN_FLT x9 = cos(x6);
	const GEN_FLT x10 = 1. / sqrt(1e-11 + (x2 * x8) + (x9 * x9) + (x1 * x8) + (x3 * x8));
	const GEN_FLT x11 = (1. / x5) * x7 * x10 * time;
	const GEN_FLT x12 = x11 * obj_qj;
	const GEN_FLT x13 = x9 * x10;
	const GEN_FLT x14 = x11 * aa_z;
	const GEN_FLT x15 = x11 * aa_x;
	const GEN_FLT x16 = x11 * aa_y;
	out[0] = (-1 * x12 * aa_y) + (-1 * x15 * obj_qi) + (-1 * x14 * obj_qk) + (x13 * obj_qw);
	out[1] = (x15 * obj_qw) + (x13 * obj_qi) + (-1 * x12 * aa_z) + (x16 * obj_qk);
	out[2] = (-1 * x15 * obj_qk) + (x16 * obj_qw) + (x14 * obj_qi) + (x13 * obj_qj);
	out[3] = (x12 * aa_x) + (x13 * obj_qk) + (x14 * obj_qw) + (-1 * x16 * obj_qi);
	out[4] = aa_x;
	out[5] = aa_y;
	out[6] = aa_z;
}

// Jacobian of imu_rot_f wrt [time]
static inline void gen_imu_rot_f_jac_time(FLT* out, const FLT time, const FLT* imu_rot) {
	const GEN_FLT obj_qw = imu_rot[0];
	const GEN_FLT obj_qi = imu_rot[1];
	const GEN_FLT obj_qj = imu_rot[2];
	const GEN_FLT obj_qk = imu_rot[3];
	const GEN_FLT aa_x = imu_rot[4];
	const GEN_FLT aa_y = imu_rot[5];
	const GEN_FLT aa_z = imu_rot[6];
	const GEN_FLT x0 = time * time;
	const GEN_FLT x1 = aa_z * aa_z;
	const GEN_FLT x2 = x0 * x1;
	const GEN_FLT x3 = aa_x * aa_x;
	const GEN_FLT x4 = x0 * x3;
	const GEN_FLT x5 = aa_y * aa_y;
	const GEN_FLT x6 = x0 * x5;
	const GEN_FLT x7 = 1e-10 + x6 + x2 + x4;
	const GEN_FLT x8 = 1. / x7;
	const GEN_FLT x9 = sqrt(x7);
	const GEN_FLT x10 = 0.5 * x9;
	const GEN_FLT x11 = sin(x10);
	const GEN_FLT x12 = x11 * x11;
	const GEN_FLT x13 = x8 * x12;
	const GEN_FLT x14 = cos(x10);
	const GEN_FLT x15 = 1e-11 + (x4 * x13) + (x14 * x14) + (x2 * x13) + (x6 * x13);
	const GEN_FLT x16 = 1. / sqrt(x15);
	const GEN_FLT x17 = time * obj_qi;
	const GEN_FLT x18 = x17 * x16;
	const GEN_FLT x19 = x18 * aa_x;
	const GEN_FLT x20 = 2 * time;
	const GEN_FLT x21 = x5 * x20;
	const GEN_FLT x22 = x1 * x20;
	const GEN_FLT x23 = x3 * x20;
	const GEN_FLT x24 = x23 + x21 + x22;
	const GEN_FLT x25 = (1. / (x7 * sqrt(x7))) * x11;
	const GEN_FLT x26 = x24 * x25;
	const GEN_FLT x27 = x24 * x14;
	const GEN_FLT x28 = x8 * x27;
	const GEN_FLT x29 = 0.25 * x28;
	const GEN_FLT x30 = 0.5 * x27;
	const GEN_FLT x31 = x30 * x25;
	const GEN_FLT x32 = (1. / x9) * x11;
	const GEN_FLT x33 = (1. / (x7 * x7)) * x24 * x12;
	const GEN_FLT x34 = ((x22 * x13) + (x23 * x13) + (-1 * x6 * x33) + (-1 * x30 * x32) + (x4 * x31) + (-1 * x2 * x33) + (x21 * x13) + (-1 * x4 * x33) + (x6 * x31) + (x2 * x31)) * (1. / (x15 * sqrt(x15)));
	const GEN_FLT x35 = x34 * x14;
	const GEN_FLT x36 = 1.0/2.0 * x35;
	const GEN_FLT x37 = x32 * x34 * time;
	const GEN_FLT x38 = x37 * aa_y;
	const GEN_FLT x39 = 1.0/2.0 * obj_qj;
	const GEN_FLT x40 = x32 * x16;
	const GEN_FLT x41 = x40 * aa_x;
	const GEN_FLT x42 = x40 * aa_y;
	const GEN_FLT x43 = x16 * time;
	const GEN_FLT x44 = x43 * aa_y;
	const GEN_FLT x45 = x29 * obj_qj;
	const GEN_FLT x46 = x44 * x26;
	const GEN_FLT x47 = 1.0/2.0 * obj_qk;
	const GEN_FLT x48 = x37 * aa_z;
	const GEN_FLT x49 = x29 * obj_qk;
	const GEN_FLT x50 = x43 * aa_z;
	const GEN_FLT x51 = 0.25 * obj_qw;
	const GEN_FLT x52 = x40 * x24;
	const GEN_FLT x53 = x40 * aa_z;
	const GEN_FLT x54 = x50 * x26;
	const GEN_FLT x55 = x32 * x34 * x17;
	const GEN_FLT x56 = x43 * aa_x;
	const GEN_FLT x57 = 1.0/2.0 * obj_qw;
	const GEN_FLT x58 = x57 * x26;
	const GEN_FLT x59 = x51 * x28;
	const GEN_FLT x60 = x59 * x43;
	const GEN_FLT x61 = x37 * aa_x;
	const GEN_FLT x62 = 0.25 * x52;
	const GEN_FLT x63 = x56 * x26;
	const GEN_FLT x64 = 1.0/2.0 * aa_z;
	const GEN_FLT x65 = x26 * x18;
	const GEN_FLT x66 = x29 * x18;
	const GEN_FLT x67 = 1.0/2.0 * aa_y;
	out[0] = (x54 * x47) + (-1 * x42 * obj_qj) + (1.0/2.0 * x55 * aa_x) + (-1 * x29 * x19) + (-1 * x36 * obj_qw) + (1.0/2.0 * x26 * x19) + (x47 * x48) + (x38 * x39) + (-1 * x44 * x45) + (x46 * x39) + (-1 * x50 * x49) + (-1 * x53 * obj_qk) + (-1 * x41 * obj_qi) + (-1 * x52 * x51);
	out[1] = (-1 * x62 * obj_qi) + (-1 * x50 * x45) + (-1 * x61 * x57) + (x44 * x49) + (x54 * x39) + (x42 * obj_qk) + (-1 * x53 * obj_qj) + (-1 * x46 * x47) + (x48 * x39) + (x41 * obj_qw) + (-1 * x47 * x38) + (-1 * x36 * obj_qi) + (-1 * x58 * x56) + (x60 * aa_x);
	out[2] = (x61 * x47) + (-1 * x62 * obj_qj) + (x59 * x44) + (-1 * x41 * obj_qk) + (-1 * x36 * obj_qj) + (-1 * x64 * x65) + (x53 * obj_qi) + (-1 * x58 * x44) + (x63 * x47) + (-1 * x57 * x38) + (-1 * x64 * x55) + (x42 * obj_qw) + (x66 * aa_z) + (-1 * x56 * x49);
	out[3] = (-1 * x62 * obj_qk) + (x67 * x65) + (x67 * x55) + (x56 * x45) + (x60 * aa_z) + (-1 * x54 * x57) + (x41 * obj_qj) + (x53 * obj_qw) + (-1 * x63 * x39) + (-1 * x57 * x48) + (-1 * x42 * obj_qi) + (-1 * x66 * aa_y) + (-1 * x47 * x35) + (-1 * x61 * x39);
	out[4] = 0;
	out[5] = 0;
	out[6] = 0;
}

// Jacobian of imu_rot_f wrt [obj_qw, obj_qi, obj_qj, obj_qk, aa_x, aa_y, aa_z]
static inline void gen_imu_rot_f_jac_imu_rot(FLT* out, const FLT time, const FLT* imu_rot) {
	const GEN_FLT obj_qw = imu_rot[0];
	const GEN_FLT obj_qi = imu_rot[1];
	const GEN_FLT obj_qj = imu_rot[2];
	const GEN_FLT obj_qk = imu_rot[3];
	const GEN_FLT aa_x = imu_rot[4];
	const GEN_FLT aa_y = imu_rot[5];
	const GEN_FLT aa_z = imu_rot[6];
	const GEN_FLT x0 = time * time;
	const GEN_FLT x1 = aa_z * aa_z;
	const GEN_FLT x2 = x0 * x1;
	const GEN_FLT x3 = aa_x * aa_x;
	const GEN_FLT x4 = x0 * x3;
	const GEN_FLT x5 = aa_y * aa_y;
	const GEN_FLT x6 = x0 * x5;
	const GEN_FLT x7 = 1e-10 + x6 + x2 + x4;
	const GEN_FLT x8 = sqrt(x7);
	const GEN_FLT x9 = 0.5 * x8;
	const GEN_FLT x10 = cos(x9);
	const GEN_FLT x11 = 1. / x7;
	const GEN_FLT x12 = sin(x9);
	const GEN_FLT x13 = x12 * x12;
	const GEN_FLT x14 = x13 * x11;
	const GEN_FLT x15 = 1e-11 + (x4 * x14) + (x10 * x10) + (x2 * x14) + (x6 * x14);
	const GEN_FLT x16 = 1. / sqrt(x15);
	const GEN_FLT x17 = x10 * x16;
	const GEN_FLT x18 = x12 * x16;
	const GEN_FLT x19 = 1. / x8;
	const GEN_FLT x20 = x19 * time;
	const GEN_FLT x21 = x20 * x18;
	const GEN_FLT x22 = x21 * aa_x;
	const GEN_FLT x23 = x21 * aa_y;
	const GEN_FLT x24 = x21 * aa_z;
	const GEN_FLT x25 = -1 * x22;
	const GEN_FLT x26 = -1 * x23;
	const GEN_FLT x27 = -1 * x24;
	const GEN_FLT x28 = time * time * time;
	const GEN_FLT x29 = 1. / (x7 * sqrt(x7));
	const GEN_FLT x30 = x28 * x29;
	const GEN_FLT x31 = x3 * x30;
	const GEN_FLT x32 = x18 * obj_qi;
	const GEN_FLT x33 = 2 * x14;
	const GEN_FLT x34 = x0 * x33;
	const GEN_FLT x35 = time * time * time * time;
	const GEN_FLT x36 = x35 * (aa_x * aa_x * aa_x);
	const GEN_FLT x37 = 2 * (1. / (x7 * x7)) * x13;
	const GEN_FLT x38 = 1.0 * x12 * x10;
	const GEN_FLT x39 = x38 * x29;
	const GEN_FLT x40 = x35 * x37;
	const GEN_FLT x41 = x1 * x40;
	const GEN_FLT x42 = x35 * x39;
	const GEN_FLT x43 = x42 * aa_x;
	const GEN_FLT x44 = x5 * x40;
	const GEN_FLT x45 = x0 * x19;
	const GEN_FLT x46 = x45 * x38;
	const GEN_FLT x47 = (-1 * x44 * aa_x) + (x5 * x43) + (x36 * x39) + (-1 * x46 * aa_x) + (-1 * x36 * x37) + (x34 * aa_x) + (x1 * x43) + (-1 * x41 * aa_x);
	const GEN_FLT x48 = 1.0/2.0 * (1. / (x15 * sqrt(x15)));
	const GEN_FLT x49 = x48 * x10;
	const GEN_FLT x50 = x47 * x49;
	const GEN_FLT x51 = x18 * obj_qw;
	const GEN_FLT x52 = 0.5 * x45;
	const GEN_FLT x53 = x52 * aa_x;
	const GEN_FLT x54 = aa_y * obj_qj;
	const GEN_FLT x55 = x48 * x20 * x12;
	const GEN_FLT x56 = x55 * x47;
	const GEN_FLT x57 = x56 * aa_z;
	const GEN_FLT x58 = x21 * obj_qi;
	const GEN_FLT x59 = -1 * x58;
	const GEN_FLT x60 = 0.5 * x28 * x11 * x17;
	const GEN_FLT x61 = x60 * aa_x;
	const GEN_FLT x62 = x61 * x54;
	const GEN_FLT x63 = x18 * obj_qj;
	const GEN_FLT x64 = x30 * aa_x;
	const GEN_FLT x65 = x64 * aa_y;
	const GEN_FLT x66 = x63 * x65;
	const GEN_FLT x67 = x56 * aa_x;
	const GEN_FLT x68 = x3 * x60;
	const GEN_FLT x69 = x18 * obj_qk;
	const GEN_FLT x70 = x64 * aa_z;
	const GEN_FLT x71 = x61 * aa_z;
	const GEN_FLT x72 = (-1 * x71 * obj_qk) + (x70 * x69);
	const GEN_FLT x73 = x71 * obj_qj;
	const GEN_FLT x74 = aa_y * obj_qk;
	const GEN_FLT x75 = x21 * obj_qw;
	const GEN_FLT x76 = x65 * x69;
	const GEN_FLT x77 = x70 * x63;
	const GEN_FLT x78 = x52 * x32;
	const GEN_FLT x79 = x74 * x61;
	const GEN_FLT x80 = x21 * obj_qk;
	const GEN_FLT x81 = -1 * x80;
	const GEN_FLT x82 = x70 * x32;
	const GEN_FLT x83 = x71 * obj_qi;
	const GEN_FLT x84 = aa_y * obj_qw;
	const GEN_FLT x85 = (x84 * x61) + (-1 * x65 * x51);
	const GEN_FLT x86 = aa_y * obj_qi;
	const GEN_FLT x87 = aa_z * obj_qw;
	const GEN_FLT x88 = x63 * x20;
	const GEN_FLT x89 = x51 * aa_z;
	const GEN_FLT x90 = (x87 * x61) + (-1 * x89 * x64);
	const GEN_FLT x91 = (x65 * x32) + (-1 * x86 * x61);
	const GEN_FLT x92 = -1 * x88;
	const GEN_FLT x93 = x3 * x40;
	const GEN_FLT x94 = x42 * aa_y;
	const GEN_FLT x95 = x0 * aa_y;
	const GEN_FLT x96 = x95 * x19;
	const GEN_FLT x97 = aa_y * aa_y * aa_y;
	const GEN_FLT x98 = (-1 * x97 * x40) + (x97 * x42) + (x95 * x33) + (x3 * x94) + (-1 * x93 * aa_y) + (-1 * x96 * x38) + (x1 * x94) + (-1 * x41 * aa_y);
	const GEN_FLT x99 = x98 * x49;
	const GEN_FLT x100 = x55 * x98;
	const GEN_FLT x101 = x30 * aa_y;
	const GEN_FLT x102 = x101 * aa_z;
	const GEN_FLT x103 = x69 * x102;
	const GEN_FLT x104 = x100 * aa_z;
	const GEN_FLT x105 = x60 * aa_z;
	const GEN_FLT x106 = x74 * x105;
	const GEN_FLT x107 = x5 * x60;
	const GEN_FLT x108 = 0.5 * x96;
	const GEN_FLT x109 = x5 * x30;
	const GEN_FLT x110 = x100 * aa_x;
	const GEN_FLT x111 = x100 * aa_y;
	const GEN_FLT x112 = x100 * obj_qj;
	const GEN_FLT x113 = (-1 * x54 * x105) + (x63 * x102);
	const GEN_FLT x114 = x86 * x105;
	const GEN_FLT x115 = x32 * x102;
	const GEN_FLT x116 = (-1 * x89 * x101) + (x87 * x60 * aa_y);
	const GEN_FLT x117 = x42 * aa_z;
	const GEN_FLT x118 = aa_z * aa_z * aa_z;
	const GEN_FLT x119 = (-1 * x40 * x118) + (-1 * x93 * aa_z) + (-1 * x44 * aa_z) + (x34 * aa_z) + (-1 * x46 * aa_z) + (x42 * x118) + (x5 * x117) + (x3 * x117);
	const GEN_FLT x120 = x55 * x119;
	const GEN_FLT x121 = x49 * x119;
	const GEN_FLT x122 = x120 * aa_x;
	const GEN_FLT x123 = x120 * aa_z;
	const GEN_FLT x124 = x1 * x60;
	const GEN_FLT x125 = x1 * x30;
	const GEN_FLT x126 = x18 * x125;
	const GEN_FLT x127 = x52 * aa_z;
	out[0] = x17;
	out[1] = x22;
	out[2] = x23;
	out[3] = x24;
	out[4] = 0;
	out[5] = 0;
	out[6] = 0;
	out[7] = x25;
	out[8] = x17;
	out[9] = x24;
	out[10] = x26;
	out[11] = 0;
	out[12] = 0;
	out[13] = 0;
	out[14] = x26;
	out[15] = x27;
	out[16] = x17;
	out[17] = x22;
	out[18] = 0;
	out[19] = 0;
	out[20] = 0;
	out[21] = x27;
	out[22] = x23;
	out[23] = x25;
	out[24] = x17;
	out[25] = 0;
	out[26] = 0;
	out[27] = 0;
	out[28] = (-1 * x68 * obj_qi) + (x67 * obj_qi) + x72 + x66 + (x32 * x31) + (-1 * x50 * obj_qw) + (x57 * obj_qk) + (-1 * x53 * x51) + (-1 * x62) + x59 + (x54 * x56);
	out[29] = (x68 * obj_qw) + (x57 * obj_qj) + x77 + (-1 * x78 * aa_x) + x75 + (-1 * x74 * x56) + (-1 * x51 * x31) + (-1 * x73) + x79 + (-1 * x76) + (-1 * x50 * obj_qi) + (-1 * x67 * obj_qw);
	out[30] = x85 + (-1 * x63 * x53) + (-1 * x68 * obj_qk) + (-1 * x84 * x56) + (-1 * x50 * obj_qj) + x81 + (x67 * obj_qk) + (-1 * x82) + (-1 * x57 * obj_qi) + (x69 * x31) + x83;
	out[31] = x90 + (x68 * obj_qj) + x91 + (-1 * x67 * obj_qj) + x88 + (-1 * x87 * x56) + (x86 * x56) + (-1 * x63 * x31) + (-1 * x69 * x53) + (-1 * x50 * obj_qk);
	out[32] = 1;
	out[33] = 0;
	out[34] = 0;
	out[35] = (x110 * obj_qi) + x91 + (-1 * x107 * obj_qj) + (-1 * x106) + (x63 * x109) + (-1 * x99 * obj_qw) + (-1 * x51 * x108) + (x104 * obj_qk) + x92 + (x54 * x100) + x103;
	out[36] = x85 + (-1 * x110 * obj_qw) + (-1 * x99 * obj_qi) + (-1 * x69 * x109) + (x107 * obj_qk) + (-1 * x111 * obj_qk) + x80 + x113 + (x112 * aa_z) + (-1 * x32 * x108);
	out[37] = (x110 * obj_qk) + x114 + (-1 * x79) + (-1 * x99 * obj_qj) + (-1 * x63 * x108) + (x107 * obj_qw) + (-1 * x104 * obj_qi) + (-1 * x115) + x76 + (-1 * x111 * obj_qw) + x75 + (-1 * x51 * x109);
	out[38] = (-1 * x66) + x116 + (-1 * x112 * aa_x) + (-1 * x69 * x108) + (-1 * x107 * obj_qi) + (-1 * x99 * obj_qk) + x62 + x59 + (x111 * obj_qi) + (-1 * x87 * x100) + (x32 * x109);
	out[39] = 0;
	out[40] = 1;
	out[41] = 0;
	out[42] = x82 + (x126 * obj_qk) + (x123 * obj_qk) + (x122 * obj_qi) + (x54 * x120) + x113 + (-1 * x89 * x52) + (-1 * x83) + (-1 * x124 * obj_qk) + (-1 * x121 * obj_qw) + x81;
	out[43] = (-1 * x74 * x120) + (-1 * x121 * obj_qi) + (-1 * x103) + (x63 * x125) + x92 + (-1 * x124 * obj_qj) + (-1 * x122 * obj_qw) + x90 + (-1 * x78 * aa_z) + (x123 * obj_qj) + x106;
	out[44] = x72 + (-1 * x84 * x120) + (-1 * x121 * obj_qj) + (x122 * obj_qk) + x58 + (-1 * x63 * x127) + (-1 * x126 * obj_qi) + x116 + (-1 * x123 * obj_qi) + (x124 * obj_qi);
	out[45] = (-1 * x69 * x127) + (x86 * x120) + (-1 * x121 * obj_qk) + x73 + x75 + (-1 * x77) + (-1 * x87 * x120) + (-1 * x122 * obj_qj) + (-1 * x114) + (-1 * x51 * x125) + (x124 * obj_qw) + x115;
	out[46] = 0;
	out[47] = 0;
	out[48] = 1;
}

static inline void gen_kalman_model_predict(FLT* out, const FLT t, const SurviveKalmanModel* kalman_model) {
	const GEN_FLT obj_px = (*kalman_model).Pose.Pos[0];
	const GEN_FLT obj_py = (*kalman_model).Pose.Pos[1];
	const GEN_FLT obj_pz = (*kalman_model).Pose.Pos[2];
	const GEN_FLT obj_qw = (*kalman_model).Pose.Rot[0];
	const GEN_FLT obj_qi = (*kalman_model).Pose.Rot[1];
	const GEN_FLT obj_qj = (*kalman_model).Pose.Rot[2];
	const GEN_FLT obj_qk = (*kalman_model).Pose.Rot[3];
	const GEN_FLT vx = (*kalman_model).Velocity.Pos[0];
	const GEN_FLT vy = (*kalman_model).Velocity.Pos[1];
	const GEN_FLT vz = (*kalman_model).Velocity.Pos[2];
	const GEN_FLT avx = (*kalman_model).Velocity.AxisAngleRot[0];
	const GEN_FLT avy = (*kalman_model).Velocity.AxisAngleRot[1];
	const GEN_FLT avz = (*kalman_model).Velocity.AxisAngleRot[2];
	const GEN_FLT acc_x = (*kalman_model).Acc[0];
	const GEN_FLT acc_y = (*kalman_model).Acc[1];
	const GEN_FLT acc_z = (*kalman_model).Acc[2];
	const GEN_FLT acc_biasx = (*kalman_model).AccBias[0];
	const GEN_FLT acc_biasy = (*kalman_model).AccBias[1];
	const GEN_FLT acc_biasz = (*kalman_model).AccBias[2];
	const GEN_FLT gbx = (*kalman_model).GyroBias[0];
	const GEN_FLT gby = (*kalman_model).GyroBias[1];
	const GEN_FLT gbz = (*kalman_model).GyroBias[2];
	const GEN_FLT x0 = t * t;
	const GEN_FLT x1 = 1.0/2.0 * x0;
	const GEN_FLT x2 = x0 * (avz * avz);
	const GEN_FLT x3 = x0 * (avx * avx);
	const GEN_FLT x4 = x0 * (avy * avy);
	const GEN_FLT x5 = 1e-10 + x4 + x2 + x3;
	const GEN_FLT x6 = sqrt(x5);
	const GEN_FLT x7 = 0.5 * x6;
	const GEN_FLT x8 = sin(x7);
	const GEN_FLT x9 = (1. / x5) * (x8 * x8);
	const GEN_FLT x10 = cos(x7);
	const GEN_FLT x11 = 1. / sqrt(1e-11 + (x3 * x9) + (x10 * x10) + (x2 * x9) + (x4 * x9));
	const GEN_FLT x12 = t * (1. / x6) * x8 * x11;
	const GEN_FLT x13 = x12 * avy;
	const GEN_FLT x14 = x11 * x10;
	const GEN_FLT x15 = x12 * avz;
	const GEN_FLT x16 = x12 * obj_qi;
	const GEN_FLT x17 = x12 * avx;
	out[0] = (t * vx) + (x1 * acc_x) + obj_px;
	out[1] = (t * vy) + (x1 * acc_y) + obj_py;
	out[2] = (t * vz) + (x1 * acc_z) + obj_pz;
	out[3] = (-1 * x15 * obj_qk) + (-1 * x16 * avx) + (-1 * x13 * obj_qj) + (x14 * obj_qw);
	out[4] = (x14 * obj_qi) + (x17 * obj_qw) + (-1 * x15 * obj_qj) + (x13 * obj_qk);
	out[5] = (-1 * x17 * obj_qk) + (x14 * obj_qj) + (x13 * obj_qw) + (x16 * avz);
	out[6] = (x17 * obj_qj) + (-1 * x16 * avy) + (x14 * obj_qk) + (x15 * obj_qw);
	out[7] = vx + (t * acc_x);
	out[8] = vy + (t * acc_y);
	out[9] = vz + (t * acc_z);
	out[10] = avx;
	out[11] = avy;
	out[12] = avz;
	out[13] = acc_x;
	out[14] = acc_y;
	out[15] = acc_z;
	out[16] = acc_biasx;
	out[17] = acc_biasy;
	out[18] = acc_biasz;
	out[19] = gbx;
	out[20] = gby;
	out[21] = gbz;
}

// Jacobian of kalman_model_predict wrt [t]
static inline void gen_kalman_model_predict_jac_t(FLT* out, const FLT t, const SurviveKalmanModel* kalman_model) {
	const GEN_FLT obj_px = (*kalman_model).Pose.Pos[0];
	const GEN_FLT obj_py = (*kalman_model).Pose.Pos[1];
	const GEN_FLT obj_pz = (*kalman_model).Pose.Pos[2];
	const GEN_FLT obj_qw = (*kalman_model).Pose.Rot[0];
	const GEN_FLT obj_qi = (*kalman_model).Pose.Rot[1];
	const GEN_FLT obj_qj = (*kalman_model).Pose.Rot[2];
	const GEN_FLT obj_qk = (*kalman_model).Pose.Rot[3];
	const GEN_FLT vx = (*kalman_model).Velocity.Pos[0];
	const GEN_FLT vy = (*kalman_model).Velocity.Pos[1];
	const GEN_FLT vz = (*kalman_model).Velocity.Pos[2];
	const GEN_FLT avx = (*kalman_model).Velocity.AxisAngleRot[0];
	const GEN_FLT avy = (*kalman_model).Velocity.AxisAngleRot[1];
	const GEN_FLT avz = (*kalman_model).Velocity.AxisAngleRot[2];
	const GEN_FLT acc_x = (*kalman_model).Acc[0];
	const GEN_FLT acc_y = (*kalman_model).Acc[1];
	const GEN_FLT acc_z = (*kalman_model).Acc[2];
	const GEN_FLT acc_biasx = (*kalman_model).AccBias[0];
	const GEN_FLT acc_biasy = (*kalman_model).AccBias[1];
	const GEN_FLT acc_biasz = (*kalman_model).AccBias[2];
	const GEN_FLT gbx = (*kalman_model).GyroBias[0];
	const GEN_FLT gby = (*kalman_model).GyroBias[1];
	const GEN_FLT gbz = (*kalman_model).GyroBias[2];
	const GEN_FLT x0 = t * t;
	const GEN_FLT x1 = avz * avz;
	const GEN_FLT x2 = x0 * x1;
	const GEN_FLT x3 = avx * avx;
	const GEN_FLT x4 = x0 * x3;
	const GEN_FLT x5 = avy * avy;
	const GEN_FLT x6 = x0 * x5;
	const GEN_FLT x7 = 1e-10 + x6 + x2 + x4;
	const GEN_FLT x8 = 1. / x7;
	const GEN_FLT x9 = sqrt(x7);
	const GEN_FLT x10 = 0.5 * x9;
	const GEN_FLT x11 = sin(x10);
	const GEN_FLT x12 = x11 * x11;
	const GEN_FLT x13 = x8 * x12;
	const GEN_FLT x14 = cos(x10);
	const GEN_FLT x15 = 1e-11 + (x4 * x13) + (x14 * x14) + (x2 * x13) + (x6 * x13);
	const GEN_FLT x16 = 1. / sqrt(x15);
	const GEN_FLT x17 = (1. / x9) * x11;
	const GEN_FLT x18 = x17 * x16;
	const GEN_FLT x19 = x18 * avx;
	const GEN_FLT x20 = 1.0/2.0 * obj_qj;
	const GEN_FLT x21 = t * avy;
	const GEN_FLT x22 = 2 * t;
	const GEN_FLT x23 = x5 * x22;
	const GEN_FLT x24 = x1 * x22;
	const GEN_FLT x25 = x3 * x22;
	const GEN_FLT x26 = x25 + x23 + x24;
	const GEN_FLT x27 = (1. / (x7 * sqrt(x7))) * x11;
	const GEN_FLT x28 = x26 * x27;
	const GEN_FLT x29 = x28 * x16;
	const GEN_FLT x30 = x21 * x29;
	const GEN_FLT x31 = 0.25 * obj_qj;
	const GEN_FLT x32 = x26 * x14;
	const GEN_FLT x33 = x8 * x32;
	const GEN_FLT x34 = x31 * x33;
	const GEN_FLT x35 = x34 * x16;
	const GEN_FLT x36 = 0.5 * x32;
	const GEN_FLT x37 = x36 * x27;
	const GEN_FLT x38 = (1. / (x7 * x7)) * x26 * x12;
	const GEN_FLT x39 = ((x23 * x13) + (x6 * x37) + (x2 * x37) + (-1 * x6 * x38) + (-1 * x4 * x38) + (-1 * x36 * x17) + (x4 * x37) + (x25 * x13) + (-1 * x2 * x38) + (x24 * x13)) * (1. / (x15 * sqrt(x15)));
	const GEN_FLT x40 = x39 * x17;
	const GEN_FLT x41 = x40 * x20;
	const GEN_FLT x42 = 1.0/2.0 * obj_qk;
	const GEN_FLT x43 = x16 * avz;
	const GEN_FLT x44 = t * x43;
	const GEN_FLT x45 = x44 * x28;
	const GEN_FLT x46 = x18 * avy;
	const GEN_FLT x47 = 1.0/2.0 * obj_qi;
	const GEN_FLT x48 = t * avx;
	const GEN_FLT x49 = x48 * x29;
	const GEN_FLT x50 = 1.0/2.0 * x40;
	const GEN_FLT x51 = t * x50;
	const GEN_FLT x52 = x51 * avz;
	const GEN_FLT x53 = x51 * avx;
	const GEN_FLT x54 = x26 * x18;
	const GEN_FLT x55 = 0.25 * x54;
	const GEN_FLT x56 = x39 * x14;
	const GEN_FLT x57 = 1.0/2.0 * x56;
	const GEN_FLT x58 = 0.25 * x33;
	const GEN_FLT x59 = x58 * x44;
	const GEN_FLT x60 = x58 * x16;
	const GEN_FLT x61 = x60 * x48;
	const GEN_FLT x62 = x18 * avz;
	const GEN_FLT x63 = t * obj_qw;
	const GEN_FLT x64 = x63 * avx;
	const GEN_FLT x65 = 1.0/2.0 * x29;
	const GEN_FLT x66 = x60 * x21;
	const GEN_FLT x67 = x51 * avy;
	const GEN_FLT x68 = x63 * avy;
	const GEN_FLT x69 = x48 * x20;
	const GEN_FLT x70 = x63 * x43;
	out[0] = (t * acc_x) + vx;
	out[1] = (t * acc_y) + vy;
	out[2] = (t * acc_z) + vz;
	out[3] = (-1 * x61 * obj_qi) + (-1 * x35 * x21) + (-1 * x19 * obj_qi) + (x41 * x21) + (-1 * x57 * obj_qw) + (x42 * x45) + (x52 * obj_qk) + (x30 * x20) + (-1 * x62 * obj_qk) + (x47 * x49) + (-1 * x55 * obj_qw) + (-1 * x46 * obj_qj) + (-1 * x59 * obj_qk) + (x53 * obj_qi);
	out[4] = (-1 * x55 * obj_qi) + (-1 * x42 * x30) + (x46 * obj_qk) + (x45 * x20) + (x19 * obj_qw) + (-1 * x64 * x65) + (-1 * x64 * x50) + (-1 * x62 * obj_qj) + (-1 * x44 * x34) + (x60 * x64) + (x66 * obj_qk) + (-1 * x57 * obj_qi) + (-1 * x67 * obj_qk) + (t * x41 * avz);
	out[5] = (-1 * x54 * x31) + (x59 * obj_qi) + (-1 * x61 * obj_qk) + (-1 * x52 * obj_qi) + (x53 * obj_qk) + (x62 * obj_qi) + (-1 * x68 * x65) + (-1 * x19 * obj_qk) + (x60 * x68) + (-1 * x45 * x47) + (x46 * obj_qw) + (-1 * x68 * x50) + (x42 * x49) + (-1 * x56 * x20);
	out[6] = (-1.0/2.0 * x70 * x28) + (-1 * x63 * x50 * avz) + (-1 * x66 * obj_qi) + (-1 * x55 * obj_qk) + (x48 * x35) + (x70 * x58) + (-1 * x46 * obj_qi) + (-1 * x69 * x40) + (-1 * x57 * obj_qk) + (x19 * obj_qj) + (x47 * x30) + (-1 * x69 * x29) + (x67 * obj_qi) + (x62 * obj_qw);
	out[7] = acc_x;
	out[8] = acc_y;
	out[9] = acc_z;
	out[10] = 0;
	out[11] = 0;
	out[12] = 0;
	out[13] = 0;
	out[14] = 0;
	out[15] = 0;
	out[16] = 0;
	out[17] = 0;
	out[18] = 0;
	out[19] = 0;
	out[20] = 0;
	out[21] = 0;
}

// Jacobian of kalman_model_predict wrt [obj_px, obj_py, obj_pz, obj_qw, obj_qi, obj_qj, obj_qk, vx, vy, vz, avx, avy, avz, acc_x, acc_y, acc_z, acc_biasx, acc_biasy, acc_biasz, gbx, gby, gbz]
static inline void gen_kalman_model_predict_jac_kalman_model(FLT* out, const FLT t, const SurviveKalmanModel* kalman_model) {
	const GEN_FLT obj_px = (*kalman_model).Pose.Pos[0];
	const GEN_FLT obj_py = (*kalman_model).Pose.Pos[1];
	const GEN_FLT obj_pz = (*kalman_model).Pose.Pos[2];
	const GEN_FLT obj_qw = (*kalman_model).Pose.Rot[0];
	const GEN_FLT obj_qi = (*kalman_model).Pose.Rot[1];
	const GEN_FLT obj_qj = (*kalman_model).Pose.Rot[2];
	const GEN_FLT obj_qk = (*kalman_model).Pose.Rot[3];
	const GEN_FLT vx = (*kalman_model).Velocity.Pos[0];
	const GEN_FLT vy = (*kalman_model).Velocity.Pos[1];
	const GEN_FLT vz = (*kalman_model).Velocity.Pos[2];
	const GEN_FLT avx = (*kalman_model).Velocity.AxisAngleRot[0];
	const GEN_FLT avy = (*kalman_model).Velocity.AxisAngleRot[1];
	const GEN_FLT avz = (*kalman_model).Velocity.AxisAngleRot[2];
	const GEN_FLT acc_x = (*kalman_model).Acc[0];
	const GEN_FLT acc_y = (*kalman_model).Acc[1];
	const GEN_FLT acc_z = (*kalman_model).Acc[2];
	const GEN_FLT acc_biasx = (*kalman_model).AccBias[0];
	const GEN_FLT acc_biasy = (*kalman_model).AccBias[1];
	const GEN_FLT acc_biasz = (*kalman_model).AccBias[2];
	const GEN_FLT gbx = (*kalman_model).GyroBias[0];
	const GEN_FLT gby = (*kalman_model).GyroBias[1];
	const GEN_FLT gbz = (*kalman_model).GyroBias[2];
	const GEN_FLT x0 = t * t;
	const GEN_FLT x1 = 1.0/2.0 * x0;
	const GEN_FLT x2 = avz * avz;
	const GEN_FLT x3 = x0 * x2;
	const GEN_FLT x4 = avx * avx;
	const GEN_FLT x5 = x0 * x4;
	const GEN_FLT x6 = avy * avy;
	const GEN_FLT x7 = x0 * x6;
	const GEN_FLT x8 = 1e-10 + x7 + x3 + x5;
	const GEN_FLT x9 = 1. / x8;
	const GEN_FLT x10 = sqrt(x8);
	const GEN_FLT x11 = 0.5 * x10;
	const GEN_FLT x12 = sin(x11);
	const GEN_FLT x13 = x12 * x12;
	const GEN_FLT x14 = x9 * x13;
	const GEN_FLT x15 = cos(x11);
	const GEN_FLT x16 = 1e-11 + (x5 * x14) + (x15 * x15) + (x3 * x14) + (x7 * x14);
	const GEN_FLT x17 = 1. / sqrt(x16);
	const GEN_FLT x18 = x15 * x17;
	const GEN_FLT x19 = x12 * (1. / x10);
	const GEN_FLT x20 = t * x19;
	const GEN_FLT x21 = x20 * x17;
	const GEN_FLT x22 = x21 * avx;
	const GEN_FLT x23 = -1 * x22;
	const GEN_FLT x24 = x21 * avy;
	const GEN_FLT x25 = -1 * x24;
	const GEN_FLT x26 = x21 * avz;
	const GEN_FLT x27 = -1 * x26;
	const GEN_FLT x28 = x21 * obj_qi;
	const GEN_FLT x29 = -1 * x28;
	const GEN_FLT x30 = x17 * obj_qi;
	const GEN_FLT x31 = t * t * t;
	const GEN_FLT x32 = (1. / (x8 * sqrt(x8))) * x12;
	const GEN_FLT x33 = x32 * x31;
	const GEN_FLT x34 = x4 * x33;
	const GEN_FLT x35 = avx * avx * avx;
	const GEN_FLT x36 = t * t * t * t;
	const GEN_FLT x37 = 2 * (1. / (x8 * x8)) * x13;
	const GEN_FLT x38 = x36 * x37;
	const GEN_FLT x39 = 2 * x14;
	const GEN_FLT x40 = x0 * x39;
	const GEN_FLT x41 = 1.0 * x15;
	const GEN_FLT x42 = x41 * x32;
	const GEN_FLT x43 = x42 * x36;
	const GEN_FLT x44 = x38 * avx;
	const GEN_FLT x45 = x2 * x43;
	const GEN_FLT x46 = x0 * x19;
	const GEN_FLT x47 = x46 * avx;
	const GEN_FLT x48 = (-1 * x41 * x47) + (x6 * x43 * avx) + (x40 * avx) + (-1 * x35 * x38) + (x43 * x35) + (-1 * x2 * x44) + (-1 * x6 * x44) + (x45 * avx);
	const GEN_FLT x49 = 1.0/2.0 * (1. / (x16 * sqrt(x16)));
	const GEN_FLT x50 = x49 * x20;
	const GEN_FLT x51 = x50 * avy;
	const GEN_FLT x52 = x51 * x48;
	const GEN_FLT x53 = 0.5 * x9 * x31 * x18;
	const GEN_FLT x54 = x4 * x53;
	const GEN_FLT x55 = x53 * avy;
	const GEN_FLT x56 = x55 * avx;
	const GEN_FLT x57 = x56 * obj_qj;
	const GEN_FLT x58 = x49 * x15;
	const GEN_FLT x59 = x58 * x48;
	const GEN_FLT x60 = x17 * obj_qw;
	const GEN_FLT x61 = 0.5 * x47;
	const GEN_FLT x62 = x17 * obj_qj;
	const GEN_FLT x63 = x33 * avy;
	const GEN_FLT x64 = x63 * avx;
	const GEN_FLT x65 = x64 * x62;
	const GEN_FLT x66 = x50 * x48;
	const GEN_FLT x67 = x66 * avz;
	const GEN_FLT x68 = avx * obj_qi;
	const GEN_FLT x69 = avx * obj_qk;
	const GEN_FLT x70 = x17 * obj_qk;
	const GEN_FLT x71 = x33 * avx;
	const GEN_FLT x72 = x71 * avz;
	const GEN_FLT x73 = (x70 * x72) + (-1 * x69 * x53 * avz);
	const GEN_FLT x74 = x62 * x20;
	const GEN_FLT x75 = -1 * x74;
	const GEN_FLT x76 = x38 * avy;
	const GEN_FLT x77 = x0 * avy;
	const GEN_FLT x78 = x77 * x19;
	const GEN_FLT x79 = x36 * (avy * avy * avy);
	const GEN_FLT x80 = (x77 * x39) + (x79 * x42) + (-1 * x2 * x76) + (-1 * x78 * x41) + (-1 * x79 * x37) + (x4 * x43 * avy) + (-1 * x4 * x76) + (x45 * avy);
	const GEN_FLT x81 = x80 * x50;
	const GEN_FLT x82 = 0.5 * x78;
	const GEN_FLT x83 = x55 * avz;
	const GEN_FLT x84 = x83 * obj_qk;
	const GEN_FLT x85 = x6 * x33;
	const GEN_FLT x86 = x80 * x51;
	const GEN_FLT x87 = x81 * avz;
	const GEN_FLT x88 = x63 * avz;
	const GEN_FLT x89 = x88 * x70;
	const GEN_FLT x90 = x6 * x53;
	const GEN_FLT x91 = x80 * x58;
	const GEN_FLT x92 = (-1 * x56 * obj_qi) + (x64 * x30);
	const GEN_FLT x93 = x38 * avz;
	const GEN_FLT x94 = x43 * avz;
	const GEN_FLT x95 = x46 * avz;
	const GEN_FLT x96 = avz * avz * avz;
	const GEN_FLT x97 = (-1 * x6 * x93) + (-1 * x96 * x38) + (x4 * x94) + (x40 * avz) + (-1 * x4 * x93) + (-1 * x95 * x41) + (x96 * x43) + (x6 * x94);
	const GEN_FLT x98 = x58 * x97;
	const GEN_FLT x99 = x51 * x97;
	const GEN_FLT x100 = x50 * x97;
	const GEN_FLT x101 = x2 * x53;
	const GEN_FLT x102 = avz * x100;
	const GEN_FLT x103 = x2 * x33;
	const GEN_FLT x104 = 0.5 * x95;
	const GEN_FLT x105 = x53 * avx;
	const GEN_FLT x106 = avz * x105;
	const GEN_FLT x107 = x106 * obj_qi;
	const GEN_FLT x108 = x21 * obj_qk;
	const GEN_FLT x109 = -1 * x108;
	const GEN_FLT x110 = x72 * x30;
	const GEN_FLT x111 = x62 * avz;
	const GEN_FLT x112 = (x63 * x111) + (-1 * x83 * obj_qj);
	const GEN_FLT x113 = avz * obj_qj;
	const GEN_FLT x114 = x69 * x55;
	const GEN_FLT x115 = x105 * x113;
	const GEN_FLT x116 = x70 * x64;
	const GEN_FLT x117 = x71 * x111;
	const GEN_FLT x118 = x66 * avx;
	const GEN_FLT x119 = x21 * obj_qw;
	const GEN_FLT x120 = x81 * avx;
	const GEN_FLT x121 = x85 * x17;
	const GEN_FLT x122 = (-1 * x60 * x64) + (x56 * obj_qw);
	const GEN_FLT x123 = avx * x100;
	const GEN_FLT x124 = (-1 * x72 * x60) + (x106 * obj_qw);
	const GEN_FLT x125 = x83 * obj_qi;
	const GEN_FLT x126 = x88 * x30;
	const GEN_FLT x127 = (-1 * x88 * x60) + (x83 * obj_qw);
	out[0] = 1;
	out[1] = 0;
	out[2] = 0;
	out[3] = 0;
	out[4] = 0;
	out[5] = 0;
	out[6] = 0;
	out[7] = t;
	out[8] = 0;
	out[9] = 0;
	out[10] = 0;
	out[11] = 0;
	out[12] = 0;
	out[13] = x1;
	out[14] = 0;
	out[15] = 0;
	out[16] = 0;
	out[17] = 0;
	out[18] = 0;
	out[19] = 0;
	out[20] = 0;
	out[21] = 0;
	out[22] = 0;
	out[23] = 1;
	out[24] = 0;
	out[25] = 0;
	out[26] = 0;
	out[27] = 0;
	out[28] = 0;
	out[29] = 0;
	out[30] = t;
	out[31] = 0;
	out[32] = 0;
	out[33] = 0;
	out[34] = 0;
	out[35] = 0;
	out[36] = x1;
	out[37] = 0;
	out[38] = 0;
	out[39] = 0;
	out[40] = 0;
	out[41] = 0;
	out[42] = 0;
	out[43] = 0;
	out[44] = 0;
	out[45] = 0;
	out[46] = 1;
	out[47] = 0;
	out[48] = 0;
	out[49] = 0;
	out[50] = 0;
	out[51] = 0;
	out[52] = 0;
	out[53] = t;
	out[54] = 0;
	out[55] = 0;
	out[56] = 0;
	out[57] = 0;
	out[58] = 0;
	out[59] = x1;
	out[60] = 0;
	out[61] = 0;
	out[62] = 0;
	out[63] = 0;
	out[64] = 0;
	out[65] = 0;
	out[66] = 0;
	out[67] = 0;
	out[68] = 0;
	out[69] = x18;
	out[70] = x23;
	out[71] = x25;
	out[72] = x27;
	out[73] = 0;
	out[74] = 0;
	out[75] = 0;
	out[76] = (x68 * x66) + (x67 * obj_qk) + (-1 * x59 * obj_qw) + x29 + (-1 * x60 * x61) + (x30 * x34) + (-1 * x57) + (x52 * obj_qj) + x73 + x65 + (-1 * x54 * obj_qi);
	out[77] = x92 + (-1 * x90 * obj_qj) + x89 + (x81 * x68) + (x86 * obj_qj) + x75 + (-1 * x82 * x60) + (x87 * obj_qk) + (-1 * x84) + (-1 * x91 * obj_qw) + (x85 * x62);
	out[78] = x112 + x110 + (x70 * x103) + (-1 * x107) + (x99 * obj_qj) + (-1 * x98 * obj_qw) + (-1 * x101 * obj_qk) + x109 + (x102 * obj_qk) + (-1 * x60 * x104) + (x68 * x100);
	out[79] = 0;
	out[80] = 0;
	out[81] = 0;
	out[82] = 0;
	out[83] = 0;
	out[84] = 0;
	out[85] = 0;
	out[86] = 0;
	out[87] = 0;
	out[88] = 0;
	out[89] = 0;
	out[90] = 0;
	out[91] = x22;
	out[92] = x18;
	out[93] = x27;
	out[94] = x24;
	out[95] = 0;
	out[96] = 0;
	out[97] = 0;
	out[98] = x119 + (-1 * x115) + (-1 * x61 * x30) + (-1 * x116) + (-1 * x59 * obj_qi) + (-1 * x60 * x34) + x117 + (x54 * obj_qw) + (x66 * x113) + x114 + (-1 * x52 * obj_qk) + (-1 * x118 * obj_qw);
	out[99] = x122 + (x81 * x113) + (-1 * x91 * obj_qi) + x112 + (-1 * x121 * obj_qk) + (-1 * x120 * obj_qw) + (-1 * x82 * x30) + x108 + (x90 * obj_qk) + (-1 * x86 * obj_qk);
	out[100] = x124 + (-1 * x123 * obj_qw) + (-1 * x98 * obj_qi) + (-1 * x101 * obj_qj) + x75 + (-1 * x99 * obj_qk) + (-1 * x89) + x84 + (x62 * x103) + (-1 * x30 * x104) + (x100 * x113);
	out[101] = 0;
	out[102] = 0;
	out[103] = 0;
	out[104] = 0;
	out[105] = 0;
	out[106] = 0;
	out[107] = 0;
	out[108] = 0;
	out[109] = 0;
	out[110] = 0;
	out[111] = 0;
	out[112] = 0;
	out[113] = x24;
	out[114] = x26;
	out[115] = x18;
	out[116] = x23;
	out[117] = 0;
	out[118] = 0;
	out[119] = 0;
	out[120] = (-1 * x110) + (x66 * x69) + x107 + (x70 * x34) + x122 + (-1 * x59 * obj_qj) + (-1 * x67 * obj_qi) + x109 + (-1 * x52 * obj_qw) + (-1 * x61 * x62) + (-1 * x54 * obj_qk);
	out[121] = (-1 * x114) + x125 + (x81 * x69) + x119 + (x90 * obj_qw) + (-1 * x85 * x60) + (-1 * x82 * x62) + (-1 * x91 * obj_qj) + (-1 * x86 * obj_qw) + (-1 * x126) + x116 + (-1 * x87 * obj_qi);
	out[122] = x73 + x127 + (-1 * x62 * x104) + (-1 * x99 * obj_qw) + (x101 * obj_qi) + (x69 * x100) + (-1 * x102 * obj_qi) + (-1 * x98 * obj_qj) + x28 + (-1 * x30 * x103);
	out[123] = 0;
	out[124] = 0;
	out[125] = 0;
	out[126] = 0;
	out[127] = 0;
	out[128] = 0;
	out[129] = 0;
	out[130] = 0;
	out[131] = 0;
	out[132] = 0;
	out[133] = 0;
	out[134] = 0;
	out[135] = x26;
	out[136] = x25;
	out[137] = x22;
	out[138] = x18;
	out[139] = 0;
	out[140] = 0;
	out[141] = 0;
	out[142] = x124 + x74 + x92 + (-1 * x118 * obj_qj) + (x52 * obj_qi) + (-1 * x62 * x34) + (-1 * x70 * x61) + (-1 * x59 * obj_qk) + (x54 * obj_qj) + (-1 * x67 * obj_qw);
	out[143] = (-1 * x65) + x57 + (-1 * x82 * x70) + (x121 * obj_qi) + (-1 * x87 * obj_qw) + x127 + (x86 * obj_qi) + (-1 * x90 * obj_qi) + x29 + (-1 * x91 * obj_qk) + (-1 * x120 * obj_qj);
	out[144] = (-1 * x117) + x119 + (-1 * x125) + (x101 * obj_qw) + (-1 * x102 * obj_qw) + (x99 * obj_qi) + (-1 * x70 * x104) + x115 + (-1 * x60 * x103) + (-1 * x98 * obj_qk) + x126 + (-1 * x123 * obj_qj);
	out[145] = 0;
	out[146] = 0;
	out[147] = 0;
	out[148] = 0;
	out[149] = 0;
	out[150] = 0;
	out[151] = 0;
	out[152] = 0;
	out[153] = 0;
	out[154] = 0;
	out[155] = 0;
	out[156] = 0;
	out[157] = 0;
	out[158] = 0;
	out[159] = 0;
	out[160] = 0;
	out[161] = 1;
	out[162] = 0;
	out[163] = 0;
	out[164] = 0;
	out[165] = 0;
	out[166] = 0;
	out[167] = t;
	out[168] = 0;
	out[169] = 0;
	out[170] = 0;
	out[171] = 0;
	out[172] = 0;
	out[173] = 0;
	out[174] = 0;
	out[175] = 0;
	out[176] = 0;
	out[177] = 0;
	out[178] = 0;
	out[179] = 0;
	out[180] = 0;
	out[181] = 0;
	out[182] = 0;
	out[183] = 0;
	out[184] = 1;
	out[185] = 0;
	out[186] = 0;
	out[187] = 0;
	out[188] = 0;
	out[189] = 0;
	out[190] = t;
	out[191] = 0;
	out[192] = 0;
	out[193] = 0;
	out[194] = 0;
	out[195] = 0;
	out[196] = 0;
	out[197] = 0;
	out[198] = 0;
	out[199] = 0;
	out[200] = 0;
	out[201] = 0;
	out[202] = 0;
	out[203] = 0;
	out[204] = 0;
	out[205] = 0;
	out[206] = 0;
	out[207] = 1;
	out[208] = 0;
	out[209] = 0;
	out[210] = 0;
	out[211] = 0;
	out[212] = 0;
	out[213] = t;
	out[214] = 0;
	out[215] = 0;
	out[216] = 0;
	out[217] = 0;
	out[218] = 0;
	out[219] = 0;
	out[220] = 0;
	out[221] = 0;
	out[222] = 0;
	out[223] = 0;
	out[224] = 0;
	out[225] = 0;
	out[226] = 0;
	out[227] = 0;
	out[228] = 0;
	out[229] = 0;
	out[230] = 1;
	out[231] = 0;
	out[232] = 0;
	out[233] = 0;
	out[234] = 0;
	out[235] = 0;
	out[236] = 0;
	out[237] = 0;
	out[238] = 0;
	out[239] = 0;
	out[240] = 0;
	out[241] = 0;
	out[242] = 0;
	out[243] = 0;
	out[244] = 0;
	out[245] = 0;
	out[246] = 0;
	out[247] = 0;
	out[248] = 0;
	out[249] = 0;
	out[250] = 0;
	out[251] = 0;
	out[252] = 0;
	out[253] = 1;
	out[254] = 0;
	out[255] = 0;
	out[256] = 0;
	out[257] = 0;
	out[258] = 0;
	out[259] = 0;
	out[260] = 0;
	out[261] = 0;
	out[262] = 0;
	out[263] = 0;
	out[264] = 0;
	out[265] = 0;
	out[266] = 0;
	out[267] = 0;
	out[268] = 0;
	out[269] = 0;
	out[270] = 0;
	out[271] = 0;
	out[272] = 0;
	out[273] = 0;
	out[274] = 0;
	out[275] = 0;
	out[276] = 1;
	out[277] = 0;
	out[278] = 0;
	out[279] = 0;
	out[280] = 0;
	out[281] = 0;
	out[282] = 0;
	out[283] = 0;
	out[284] = 0;
	out[285] = 0;
	out[286] = 0;
	out[287] = 0;
	out[288] = 0;
	out[289] = 0;
	out[290] = 0;
	out[291] = 0;
	out[292] = 0;
	out[293] = 0;
	out[294] = 0;
	out[295] = 0;
	out[296] = 0;
	out[297] = 0;
	out[298] = 0;
	out[299] = 1;
	out[300] = 0;
	out[301] = 0;
	out[302] = 0;
	out[303] = 0;
	out[304] = 0;
	out[305] = 0;
	out[306] = 0;
	out[307] = 0;
	out[308] = 0;
	out[309] = 0;
	out[310] = 0;
	out[311] = 0;
	out[312] = 0;
	out[313] = 0;
	out[314] = 0;
	out[315] = 0;
	out[316] = 0;
	out[317] = 0;
	out[318] = 0;
	out[319] = 0;
	out[320] = 0;
	out[321] = 0;
	out[322] = 1;
	out[323] = 0;
	out[324] = 0;
	out[325] = 0;
	out[326] = 0;
	out[327] = 0;
	out[328] = 0;
	out[329] = 0;
	out[330] = 0;
	out[331] = 0;
	out[332] = 0;
	out[333] = 0;
	out[334] = 0;
	out[335] = 0;
	out[336] = 0;
	out[337] = 0;
	out[338] = 0;
	out[339] = 0;
	out[340] = 0;
	out[341] = 0;
	out[342] = 0;
	out[343] = 0;
	out[344] = 0;
	out[345] = 1;
	out[346] = 0;
	out[347] = 0;
	out[348] = 0;
	out[349] = 0;
	out[350] = 0;
	out[351] = 0;
	out[352] = 0;
	out[353] = 0;
	out[354] = 0;
	out[355] = 0;
	out[356] = 0;
	out[357] = 0;
	out[358] = 0;
	out[359] = 0;
	out[360] = 0;
	out[361] = 0;
	out[362] = 0;
	out[363] = 0;
	out[364] = 0;
	out[365] = 0;
	out[366] = 0;
	out[367] = 0;
	out[368] = 1;
	out[369] = 0;
	out[370] = 0;
	out[371] = 0;
	out[372] = 0;
	out[373] = 0;
	out[374] = 0;
	out[375] = 0;
	out[376] = 0;
	out[377] = 0;
	out[378] = 0;
	out[379] = 0;
	out[380] = 0;
	out[381] = 0;
	out[382] = 0;
	out[383] = 0;
	out[384] = 0;
	out[385] = 0;
	out[386] = 0;
	out[387] = 0;
	out[388] = 0;
	out[389] = 0;
	out[390] = 0;
	out[391] = 1;
	out[392] = 0;
	out[393] = 0;
	out[394] = 0;
	out[395] = 0;
	out[396] = 0;
	out[397] = 0;
	out[398] = 0;
	out[399] = 0;
	out[400] = 0;
	out[401] = 0;
	out[402] = 0;
	out[403] = 0;
	out[404] = 0;
	out[405] = 0;
	out[406] = 0;
	out[407] = 0;
	out[408] = 0;
	out[409] = 0;
	out[410] = 0;
	out[411] = 0;
	out[412] = 0;
	out[413] = 0;
	out[414] = 1;
	out[415] = 0;
	out[416] = 0;
	out[417] = 0;
	out[418] = 0;
	out[419] = 0;
	out[420] = 0;
	out[421] = 0;
	out[422] = 0;
	out[423] = 0;
	out[424] = 0;
	out[425] = 0;
	out[426] = 0;
	out[427] = 0;
	out[428] = 0;
	out[429] = 0;
	out[430] = 0;
	out[431] = 0;
	out[432] = 0;
	out[433] = 0;
	out[434] = 0;
	out[435] = 0;
	out[436] = 0;
	out[437] = 1;
	out[438] = 0;
	out[439] = 0;
	out[440] = 0;
	out[441] = 0;
	out[442] = 0;
	out[443] = 0;
	out[444] = 0;
	out[445] = 0;
	out[446] = 0;
	out[447] = 0;
	out[448] = 0;
	out[449] = 0;
	out[450] = 0;
	out[451] = 0;
	out[452] = 0;
	out[453] = 0;
	out[454] = 0;
	out[455] = 0;
	out[456] = 0;
	out[457] = 0;
	out[458] = 0;
	out[459] = 0;
	out[460] = 1;
	out[461] = 0;
	out[462] = 0;
	out[463] = 0;
	out[464] = 0;
	out[465] = 0;
	out[466] = 0;
	out[467] = 0;
	out[468] = 0;
	out[469] = 0;
	out[470] = 0;
	out[471] = 0;
	out[472] = 0;
	out[473] = 0;
	out[474] = 0;
	out[475] = 0;
	out[476] = 0;
	out[477] = 0;
	out[478] = 0;
	out[479] = 0;
	out[480] = 0;
	out[481] = 0;
	out[482] = 0;
	out[483] = 1;
}

static inline void gen_invert_pose(FLT* out, const SurvivePose* obj_p) {
	const GEN_FLT obj_px = (*obj_p).Pos[0];
	const GEN_FLT obj_py = (*obj_p).Pos[1];
	const GEN_FLT obj_pz = (*obj_p).Pos[2];
	const GEN_FLT obj_qw = (*obj_p).Rot[0];
	const GEN_FLT obj_qi = (*obj_p).Rot[1];
	const GEN_FLT obj_qj = (*obj_p).Rot[2];
	const GEN_FLT obj_qk = (*obj_p).Rot[3];
	const GEN_FLT x0 = 1. / sqrt(1e-11 + (obj_qw * obj_qw) + (obj_qi * obj_qi) + (obj_qj * obj_qj) + (obj_qk * obj_qk));
	const GEN_FLT x1 = x0 * obj_qw;
	const GEN_FLT x2 = x0 * obj_qk;
	const GEN_FLT x3 = x0 * obj_qi;
	const GEN_FLT x4 = (x3 * obj_pz) + (x1 * obj_py) + (-1 * x2 * obj_px);
	const GEN_FLT x5 = x0 * obj_qj;
	const GEN_FLT x6 = (x5 * obj_px) + (x1 * obj_pz) + (-1 * x3 * obj_py);
	const GEN_FLT x7 = (x2 * obj_py) + (-1 * x5 * obj_pz) + (x1 * obj_px);
	out[0] = -1 * (obj_px + (2 * ((-1 * x6 * x5) + (x2 * x4))));
	out[1] = -1 * (obj_py + (2 * ((-1 * x2 * x7) + (x3 * x6))));
	out[2] = -1 * (obj_pz + (2 * ((-1 * x4 * x3) + (x5 * x7))));
	out[3] = x1;
	out[4] = -1 * x3;
	out[5] = -1 * x5;
	out[6] = -1 * x2;
}

// Jacobian of invert_pose wrt [obj_px, obj_py, obj_pz, obj_qw, obj_qi, obj_qj, obj_qk]
static inline void gen_invert_pose_jac_obj_p(FLT* out, const SurvivePose* obj_p) {
	const GEN_FLT obj_px = (*obj_p).Pos[0];
	const GEN_FLT obj_py = (*obj_p).Pos[1];
	const GEN_FLT obj_pz = (*obj_p).Pos[2];
	const GEN_FLT obj_qw = (*obj_p).Rot[0];
	const GEN_FLT obj_qi = (*obj_p).Rot[1];
	const GEN_FLT obj_qj = (*obj_p).Rot[2];
	const GEN_FLT obj_qk = (*obj_p).Rot[3];
	const GEN_FLT x0 = obj_qk * obj_qk;
	const GEN_FLT x1 = obj_qw * obj_qw;
	const GEN_FLT x2 = obj_qj * obj_qj;
	const GEN_FLT x3 = obj_qi * obj_qi;
	const GEN_FLT x4 = 1e-11 + x2 + x1 + x3 + x0;
	const GEN_FLT x5 = 2 * (1. / x4);
	const GEN_FLT x6 = -1 * x0 * x5;
	const GEN_FLT x7 = 1 + (-1 * x2 * x5);
	const GEN_FLT x8 = x5 * obj_qw;
	const GEN_FLT x9 = x8 * obj_qk;
	const GEN_FLT x10 = x5 * obj_qi;
	const GEN_FLT x11 = x10 * obj_qj;
	const GEN_FLT x12 = x10 * obj_qk;
	const GEN_FLT x13 = x8 * obj_qj;
	const GEN_FLT x14 = 1. / (x4 * sqrt(x4));
	const GEN_FLT x15 = x14 * obj_qw;
	const GEN_FLT x16 = x15 * obj_qk;
	const GEN_FLT x17 = 1. / sqrt(x4);
	const GEN_FLT x18 = x17 * obj_py;
	const GEN_FLT x19 = x17 * obj_px;
	const GEN_FLT x20 = x17 * obj_pz;
	const GEN_FLT x21 = (x20 * obj_qi) + (x18 * obj_qw) + (-1 * x19 * obj_qk);
	const GEN_FLT x22 = 2 * x21;
	const GEN_FLT x23 = x16 * obj_px;
	const GEN_FLT x24 = x15 * obj_qi;
	const GEN_FLT x25 = -1 * x24 * obj_pz;
	const GEN_FLT x26 = x1 * x14;
	const GEN_FLT x27 = x18 + (-1 * x26 * obj_py) + x23 + x25;
	const GEN_FLT x28 = 2 * x17;
	const GEN_FLT x29 = x28 * obj_qk;
	const GEN_FLT x30 = x15 * obj_qj;
	const GEN_FLT x31 = (x19 * obj_qj) + (x20 * obj_qw) + (-1 * x18 * obj_qi);
	const GEN_FLT x32 = 2 * x31;
	const GEN_FLT x33 = -1 * x30 * obj_px;
	const GEN_FLT x34 = x24 * obj_py;
	const GEN_FLT x35 = (-1 * x26 * obj_pz) + x33 + x20 + x34;
	const GEN_FLT x36 = x28 * obj_qj;
	const GEN_FLT x37 = x14 * obj_qi;
	const GEN_FLT x38 = x37 * obj_qk;
	const GEN_FLT x39 = x38 * x22;
	const GEN_FLT x40 = x3 * x14;
	const GEN_FLT x41 = (x38 * obj_px) + (-1 * x34) + x20 + (-1 * x40 * obj_pz);
	const GEN_FLT x42 = x37 * obj_qj;
	const GEN_FLT x43 = x42 * x32;
	const GEN_FLT x44 = x25 + (x40 * obj_py) + (-1 * x42 * obj_px) + (-1 * x18);
	const GEN_FLT x45 = obj_qk * obj_qj;
	const GEN_FLT x46 = x45 * x14;
	const GEN_FLT x47 = x2 * x14;
	const GEN_FLT x48 = x30 * obj_pz;
	const GEN_FLT x49 = (x42 * obj_py) + (-1 * x48) + x19 + (-1 * x47 * obj_px);
	const GEN_FLT x50 = x42 * obj_pz;
	const GEN_FLT x51 = x46 * obj_px;
	const GEN_FLT x52 = x51 + (-1 * x50) + (-1 * x30 * obj_py);
	const GEN_FLT x53 = x31 * x28;
	const GEN_FLT x54 = -1 * x16 * obj_py;
	const GEN_FLT x55 = x0 * x14;
	const GEN_FLT x56 = x54 + (-1 * x38 * obj_pz) + (x55 * obj_px) + (-1 * x19);
	const GEN_FLT x57 = x21 * x28;
	const GEN_FLT x58 = x38 * obj_py;
	const GEN_FLT x59 = x58 + (-1 * x51) + (-1 * x16 * obj_pz);
	const GEN_FLT x60 = -1 * x3 * x5;
	const GEN_FLT x61 = x10 * obj_qw;
	const GEN_FLT x62 = x5 * x45;
	const GEN_FLT x63 = (-1 * x26 * obj_px) + x54 + x48 + x19;
	const GEN_FLT x64 = x28 * obj_qi;
	const GEN_FLT x65 = (x18 * obj_qk) + (-1 * x20 * obj_qj) + (x19 * obj_qw);
	const GEN_FLT x66 = 2 * x65;
	const GEN_FLT x67 = (-1 * x24 * obj_px) + (-1 * x58) + x50;
	const GEN_FLT x68 = x66 * x46;
	const GEN_FLT x69 = (-1 * x20) + (x47 * obj_pz) + (-1 * x46 * obj_py) + x33;
	const GEN_FLT x70 = x65 * x28;
	const GEN_FLT x71 = (-1 * x23) + (x46 * obj_pz) + x18 + (-1 * x55 * obj_py);
	const GEN_FLT x72 = -1 * x17;
	out[0] = -1 * (x7 + x6);
	out[1] = -1 * (x11 + x9);
	out[2] = -1 * ((-1 * x13) + x12);
	out[3] = -1 * ((-1 * x36 * x35) + (x30 * x32) + (-1 * x22 * x16) + (x29 * x27));
	out[4] = -1 * ((-1 * x44 * x36) + x43 + (-1 * x39) + (x41 * x29));
	out[5] = -1 * ((-1 * x53) + (x52 * x29) + (-1 * x46 * x22) + (x47 * x32) + (-1 * x49 * x36));
	out[6] = -1 * ((-1 * x59 * x36) + x57 + (x56 * x29) + (x46 * x32) + (-1 * x55 * x22));
	out[7] = -1 * ((-1 * x9) + x11);
	out[8] = -1 * (1 + x6 + x60);
	out[9] = -1 * (x62 + x61);
	out[10] = -1 * ((x66 * x16) + (x64 * x35) + (-1 * x32 * x24) + (-1 * x63 * x29));
	out[11] = -1 * ((-1 * x40 * x32) + (-1 * x67 * x29) + x53 + (x66 * x38) + (x64 * x44));
	out[12] = -1 * ((-1 * x69 * x29) + (-1 * x43) + (x64 * x49) + x68);
	out[13] = -1 * ((-1 * x71 * x29) + (-1 * x70) + (x66 * x55) + (-1 * x32 * x38) + (x64 * x59));
	out[14] = -1 * (x12 + x13);
	out[15] = -1 * ((-1 * x61) + x62);
	out[16] = -1 * (x7 + x60);
	out[17] = -1 * ((x24 * x22) + (-1 * x64 * x27) + (-1 * x66 * x30) + (x63 * x36));
	out[18] = -1 * ((x67 * x36) + (-1 * x64 * x41) + (-1 * x66 * x42) + (x40 * x22) + (-1 * x57));
	out[19] = -1 * ((-1 * x64 * x52) + (x42 * x22) + (x69 * x36) + x70 + (-1 * x66 * x47));
	out[20] = -1 * ((-1 * x64 * x56) + x39 + (-1 * x68) + (x71 * x36));
	out[21] = 0;
	out[22] = 0;
	out[23] = 0;
	out[24] = x17 + (-1 * x26);
	out[25] = -1 * x24;
	out[26] = -1 * x30;
	out[27] = -1 * x16;
	out[28] = 0;
	out[29] = 0;
	out[30] = 0;
	out[31] = x24;
	out[32] = x72 + x40;
	out[33] = x42;
	out[34] = x38;
	out[35] = 0;
	out[36] = 0;
	out[37] = 0;
	out[38] = x30;
	out[39] = x42;
	out[40] = x72 + x47;
	out[41] = x46;
	out[42] = 0;
	out[43] = 0;
	out[44] = 0;
	out[45] = x16;
	out[46] = x38;
	out[47] = x46;
	out[48] = x72 + x55;
}

static inline void gen_quatrotatevector(FLT* out, const FLT* q, const FLT* pt) {
	const GEN_FLT obj_qw = q[0];
	const GEN_FLT obj_qi = q[1];
	const GEN_FLT obj_qj = q[2];
	const GEN_FLT obj_qk = q[3];
	const GEN_FLT pt_x = pt[0];
	const GEN_FLT pt_y = pt[1];
	const GEN_FLT pt_z = pt[2];
	const GEN_FLT x0 = (-1 * pt_z * obj_qi) + (pt_y * obj_qw) + (pt_x * obj_qk);
	const GEN_FLT x1 = (-1 * pt_x * obj_qj) + (pt_z * obj_qw) + (pt_y * obj_qi);
	const GEN_FLT x2 = (pt_z * obj_qj) + (-1 * pt_y * obj_qk) + (pt_x * obj_qw);
	out[0] = pt_x + (2 * ((x1 * obj_qj) + (-1 * x0 * obj_qk)));
	out[1] = pt_y + (2 * ((x2 * obj_qk) + (-1 * x1 * obj_qi)));
	out[2] = pt_z + (2 * ((x0 * obj_qi) + (-1 * x2 * obj_qj)));
}

// Jacobian of quatrotatevector wrt [obj_qw, obj_qi, obj_qj, obj_qk]
static inline void gen_quatrotatevector_jac_q(FLT* out, const FLT* q, const FLT* pt) {
	const GEN_FLT obj_qw = q[0];
	const GEN_FLT obj_qi = q[1];
	const GEN_FLT obj_qj = q[2];
	const GEN_FLT obj_qk = q[3];
	const GEN_FLT pt_x = pt[0];
	const GEN_FLT pt_y = pt[1];
	const GEN_FLT pt_z = pt[2];
	const GEN_FLT x0 = 2 * pt_y;
	const GEN_FLT x1 = x0 * obj_qk;
	const GEN_FLT x2 = 2 * pt_z;
	const GEN_FLT x3 = x2 * obj_qj;
	const GEN_FLT x4 = x2 * obj_qk;
	const GEN_FLT x5 = x0 * obj_qj;
	const GEN_FLT x6 = pt_x * obj_qj;
	const GEN_FLT x7 = 2 * obj_qw;
	const GEN_FLT x8 = x7 * pt_z;
	const GEN_FLT x9 = 2 * obj_qi;
	const GEN_FLT x10 = x9 * pt_y;
	const GEN_FLT x11 = x7 * pt_y;
	const GEN_FLT x12 = pt_x * obj_qk;
	const GEN_FLT x13 = x9 * pt_z;
	const GEN_FLT x14 = 2 * x12;
	const GEN_FLT x15 = 2 * x6;
	const GEN_FLT x16 = 4 * pt_y;
	const GEN_FLT x17 = x9 * pt_x;
	const GEN_FLT x18 = x7 * pt_x;
	const GEN_FLT x19 = 4 * pt_z;
	out[0] = x3 + (-1 * x1);
	out[1] = x5 + x4;
	out[2] = x10 + (-4 * x6) + x8;
	out[3] = x13 + (-1 * x11) + (-4 * x12);
	out[4] = x14 + (-1 * x13);
	out[5] = (-1 * x16 * obj_qi) + x15 + (-1 * x8);
	out[6] = x4 + x17;
	out[7] = x18 + x3 + (-1 * x16 * obj_qk);
	out[8] = x10 + (-1 * x15);
	out[9] = x11 + (-1 * x19 * obj_qi) + x14;
	out[10] = (-1 * x18) + (-1 * x19 * obj_qj) + x1;
	out[11] = x17 + x5;
}

// Jacobian of quatrotatevector wrt [pt_x, pt_y, pt_z]
static inline void gen_quatrotatevector_jac_pt(FLT* out, const FLT* q, const FLT* pt) {
	const GEN_FLT obj_qw = q[0];
	const GEN_FLT obj_qi = q[1];
	const GEN_FLT obj_qj = q[2];
	const GEN_FLT obj_qk = q[3];
	const GEN_FLT pt_x = pt[0];
	const GEN_FLT pt_y = pt[1];
	const GEN_FLT pt_z = pt[2];
	const GEN_FLT x0 = -2 * (obj_qk * obj_qk);
	const GEN_FLT x1 = 1 + (-2 * (obj_qj * obj_qj));
	const GEN_FLT x2 = 2 * obj_qw;
	const GEN_FLT x3 = x2 * obj_qk;
	const GEN_FLT x4 = 2 * obj_qi;
	const GEN_FLT x5 = x4 * obj_qj;
	const GEN_FLT x6 = x4 * obj_qk;
	const GEN_FLT x7 = x2 * obj_qj;
	const GEN_FLT x8 = -2 * (obj_qi * obj_qi);
	const GEN_FLT x9 = x2 * obj_qi;
	const GEN_FLT x10 = 2 * obj_qk * obj_qj;
	out[0] = x1 + x0;
	out[1] = x5 + (-1 * x3);
	out[2] = x7 + x6;
	out[3] = x3 + x5;
	out[4] = 1 + x0 + x8;
	out[5] = x10 + (-1 * x9);
	out[6] = x6 + (-1 * x7);
	out[7] = x9 + x10;
	out[8] = x1 + x8;
}

static inline void gen_imu_rot_f_aa(FLT* out, const FLT time, const FLT* imu_rot_aa) {
	const GEN_FLT aa_x = imu_rot_aa[0];
	const GEN_FLT aa_y = imu_rot_aa[1];
	const GEN_FLT aa_z = imu_rot_aa[2];
	const GEN_FLT lh_qi = imu_rot_aa[3];
	const GEN_FLT lh_qj = imu_rot_aa[4];
	const GEN_FLT lh_qk = imu_rot_aa[5];
	const GEN_FLT x0 = aa_z * aa_z;
	const GEN_FLT x1 = aa_x * aa_x;
	const GEN_FLT x2 = aa_y * aa_y;
	const GEN_FLT x3 = 1e-10 + x2 + x0 + x1;
	const GEN_FLT x4 = sqrt(x3);
	const GEN_FLT x5 = 0.5 * x4;
	const GEN_FLT x6 = sin(x5);
	const GEN_FLT x7 = (1. / x4) * x6;
	const GEN_FLT x8 = time * time;
	const GEN_FLT x9 = x8 * (lh_qk * lh_qk);
	const GEN_FLT x10 = x8 * (lh_qi * lh_qi);
	const GEN_FLT x11 = x8 * (lh_qj * lh_qj);
	const GEN_FLT x12 = 1e-10 + x11 + x9 + x10;
	const GEN_FLT x13 = sqrt(x12);
	const GEN_FLT x14 = 0.5 * x13;
	const GEN_FLT x15 = sin(x14);
	const GEN_FLT x16 = (x15 * x15) * (1. / x12);
	const GEN_FLT x17 = cos(x14);
	const GEN_FLT x18 = (1. / x3) * (x6 * x6);
	const GEN_FLT x19 = cos(x5);
	const GEN_FLT x20 = (1. / sqrt(1e-11 + (x19 * x19) + (x0 * x18) + (x1 * x18) + (x2 * x18))) * (1. / sqrt(1e-11 + (x9 * x16) + (x10 * x16) + (x17 * x17) + (x11 * x16)));
	const GEN_FLT x21 = x20 * x15 * (1. / x13) * time;
	const GEN_FLT x22 = x7 * x21;
	const GEN_FLT x23 = x22 * aa_y;
	const GEN_FLT x24 = x20 * x17;
	const GEN_FLT x25 = x7 * x24;
	const GEN_FLT x26 = x22 * aa_z;
	const GEN_FLT x27 = x21 * x19;
	const GEN_FLT x28 = (x26 * lh_qj) + (x27 * lh_qi) + (-1 * x23 * lh_qk) + (x25 * aa_x);
	const GEN_FLT x29 = x22 * aa_x;
	const GEN_FLT x30 = (-1 * x26 * lh_qi) + (x29 * lh_qk) + (x25 * aa_y) + (x27 * lh_qj);
	const GEN_FLT x31 = (x24 * x19) + (-1 * x29 * lh_qi) + (-1 * x26 * lh_qk) + (-1 * x23 * lh_qj);
	const GEN_FLT x32 = 1e-10 + (x30 * x30) + (x28 * x28) + (x31 * x31);
	const GEN_FLT x33 = 2 * (1. / x32) * atan2(x32, x31);
	out[0] = x33 * x28;
	out[1] = x30 * x33;
	out[2] = x33 * ((x23 * lh_qi) + (x25 * aa_z) + (x27 * lh_qk) + (-1 * x29 * lh_qj));
	out[3] = lh_qi;
	out[4] = lh_qj;
	out[5] = lh_qk;
}

// Jacobian of imu_rot_f_aa wrt [time]
static inline void gen_imu_rot_f_aa_jac_time(FLT* out, const FLT time, const FLT* imu_rot_aa) {
	const GEN_FLT aa_x = imu_rot_aa[0];
	const GEN_FLT aa_y = imu_rot_aa[1];
	const GEN_FLT aa_z = imu_rot_aa[2];
	const GEN_FLT lh_qi = imu_rot_aa[3];
	const GEN_FLT lh_qj = imu_rot_aa[4];
	const GEN_FLT lh_qk = imu_rot_aa[5];
	const GEN_FLT x0 = time * time;
	const GEN_FLT x1 = lh_qk * lh_qk;
	const GEN_FLT x2 = x0 * x1;
	const GEN_FLT x3 = lh_qi * lh_qi;
	const GEN_FLT x4 = x0 * x3;
	const GEN_FLT x5 = lh_qj * lh_qj;
	const GEN_FLT x6 = x0 * x5;
	const GEN_FLT x7 = 1e-10 + x6 + x2 + x4;
	const GEN_FLT x8 = sqrt(x7);
	const GEN_FLT x9 = 0.5 * x8;
	const GEN_FLT x10 = sin(x9);
	const GEN_FLT x11 = (1. / x8) * x10;
	const GEN_FLT x12 = x11 * lh_qk;
	const GEN_FLT x13 = x10 * x10;
	const GEN_FLT x14 = 1. / x7;
	const GEN_FLT x15 = x14 * x13;
	const GEN_FLT x16 = cos(x9);
	const GEN_FLT x17 = 1e-11 + (x4 * x15) + (x16 * x16) + (x2 * x15) + (x6 * x15);
	const GEN_FLT x18 = aa_z * aa_z;
	const GEN_FLT x19 = aa_x * aa_x;
	const GEN_FLT x20 = aa_y * aa_y;
	const GEN_FLT x21 = 1e-10 + x20 + x18 + x19;
	const GEN_FLT x22 = sqrt(x21);
	const GEN_FLT x23 = 0.5 * x22;
	const GEN_FLT x24 = sin(x23);
	const GEN_FLT x25 = (x24 * x24) * (1. / x21);
	const GEN_FLT x26 = cos(x23);
	const GEN_FLT x27 = 1. / sqrt(1e-11 + (x26 * x26) + (x25 * x19) + (x25 * x18) + (x25 * x20));
	const GEN_FLT x28 = x27 * (1. / sqrt(x17));
	const GEN_FLT x29 = x24 * (1. / x22);
	const GEN_FLT x30 = x28 * x29;
	const GEN_FLT x31 = x30 * aa_y;
	const GEN_FLT x32 = x31 * x12;
	const GEN_FLT x33 = x30 * x16;
	const GEN_FLT x34 = x30 * aa_z;
	const GEN_FLT x35 = x11 * lh_qj;
	const GEN_FLT x36 = x34 * x35;
	const GEN_FLT x37 = x28 * x26;
	const GEN_FLT x38 = x37 * x11;
	const GEN_FLT x39 = x38 * lh_qi;
	const GEN_FLT x40 = (x39 * time) + (x36 * time) + (-1 * x32 * time) + (x33 * aa_x);
	const GEN_FLT x41 = x30 * aa_x;
	const GEN_FLT x42 = x41 * x12;
	const GEN_FLT x43 = x38 * lh_qj;
	const GEN_FLT x44 = x11 * lh_qi;
	const GEN_FLT x45 = x44 * x34;
	const GEN_FLT x46 = (-1 * x45 * time) + (x33 * aa_y) + (x42 * time) + (x43 * time);
	const GEN_FLT x47 = 2 * time;
	const GEN_FLT x48 = x5 * x47;
	const GEN_FLT x49 = x1 * x47;
	const GEN_FLT x50 = x3 * x47;
	const GEN_FLT x51 = x50 + x48 + x49;
	const GEN_FLT x52 = x51 * x16;
	const GEN_FLT x53 = 0.25 * x52;
	const GEN_FLT x54 = x53 * x34;
	const GEN_FLT x55 = time * lh_qi;
	const GEN_FLT x56 = x55 * x14;
	const GEN_FLT x57 = x44 * time;
	const GEN_FLT x58 = 0.5 * x52;
	const GEN_FLT x59 = (1. / (x7 * sqrt(x7))) * x10;
	const GEN_FLT x60 = x58 * x59;
	const GEN_FLT x61 = x6 * x51;
	const GEN_FLT x62 = (1. / (x7 * x7)) * x13;
	const GEN_FLT x63 = x62 * x51;
	const GEN_FLT x64 = 1.0/2.0 * x27 * (1. / (x17 * sqrt(x17))) * ((x49 * x15) + (-1 * x2 * x63) + (-1 * x61 * x62) + (-1 * x4 * x63) + (x50 * x15) + (x4 * x60) + (-1 * x58 * x11) + (x2 * x60) + (0.5 * x61 * x59 * x16) + (x48 * x15));
	const GEN_FLT x65 = x64 * x29;
	const GEN_FLT x66 = x65 * aa_z;
	const GEN_FLT x67 = x12 * time;
	const GEN_FLT x68 = x65 * aa_x;
	const GEN_FLT x69 = time * lh_qj;
	const GEN_FLT x70 = x26 * x16;
	const GEN_FLT x71 = x70 * x28;
	const GEN_FLT x72 = 0.25 * x51;
	const GEN_FLT x73 = x71 * x72;
	const GEN_FLT x74 = x73 * x14;
	const GEN_FLT x75 = x64 * x26;
	const GEN_FLT x76 = x75 * time;
	const GEN_FLT x77 = x65 * x16;
	const GEN_FLT x78 = time * lh_qk;
	const GEN_FLT x79 = x78 * x14;
	const GEN_FLT x80 = x53 * x41;
	const GEN_FLT x81 = 1.0/2.0 * x51 * x59;
	const GEN_FLT x82 = x81 * x37;
	const GEN_FLT x83 = x81 * x78;
	const GEN_FLT x84 = x72 * x11;
	const GEN_FLT x85 = x81 * x55;
	const GEN_FLT x86 = 2 * ((x85 * x34) + x43 + (-1 * x76 * x35) + (x80 * x79) + (-1 * x82 * x69) + (-1 * x67 * x68) + (-1 * x83 * x41) + (x74 * x69) + (-1 * x54 * x56) + x42 + (x66 * x57) + (-1 * x45) + (-1 * x84 * x31) + (-1 * x77 * aa_y));
	const GEN_FLT x87 = x53 * x31;
	const GEN_FLT x88 = x65 * aa_y;
	const GEN_FLT x89 = x81 * x69;
	const GEN_FLT x90 = x69 * x14;
	const GEN_FLT x91 = x35 * time;
	const GEN_FLT x92 = 2 * (x36 + (-1 * x84 * x41) + (x83 * x31) + (-1 * x87 * x79) + (-1 * x82 * x55) + (x74 * x55) + (-1 * x66 * x91) + x39 + (-1 * x77 * aa_x) + (x88 * x67) + (-1 * x89 * x34) + (x54 * x90) + (-1 * x76 * x44) + (-1 * x32));
	const GEN_FLT x93 = x34 * x12;
	const GEN_FLT x94 = x31 * x35;
	const GEN_FLT x95 = x41 * x44;
	const GEN_FLT x96 = x71 + (-1 * x93 * time) + (-1 * x95 * time) + (-1 * x94 * time);
	const GEN_FLT x97 = x87 * x14;
	const GEN_FLT x98 = (-1 * x72 * x38) + (x68 * x57) + (-1 * x79 * x54) + (x83 * x34) + (-1 * x93) + (x85 * x41) + (x88 * x91) + (x67 * x66) + (-1 * x95) + (-1 * x69 * x97) + (-1 * x70 * x64) + (-1 * x80 * x56) + (x89 * x31) + (-1 * x94);
	const GEN_FLT x99 = (2 * x98 * x96) + (x86 * x46) + (x92 * x40);
	const GEN_FLT x100 = x96 * x96;
	const GEN_FLT x101 = 1e-10 + (x40 * x40) + (x46 * x46) + x100;
	const GEN_FLT x102 = atan2(x101, x96);
	const GEN_FLT x103 = x101 * x101;
	const GEN_FLT x104 = x99 * (1. / x103) * x102;
	const GEN_FLT x105 = 2 * x104;
	const GEN_FLT x106 = 1. / x101;
	const GEN_FLT x107 = (1. / (x100 + x103)) * x100 * x106 * ((x99 * (1. / x96)) + (-1 * x98 * x101 * (1. / x100)));
	const GEN_FLT x108 = 2 * x107;
	const GEN_FLT x109 = x102 * x106;
	const GEN_FLT x110 = x37 * x12;
	const GEN_FLT x111 = x41 * x35;
	const GEN_FLT x112 = x44 * x31;
	const GEN_FLT x113 = 2 * ((time * x112) + (x33 * aa_z) + (time * x110) + (-1 * time * x111));
	out[0] = (x92 * x109) + (-1 * x40 * x105) + (x40 * x108);
	out[1] = (x86 * x109) + (-1 * x46 * x105) + (x46 * x108);
	out[2] = (x107 * x113) + (-1 * x104 * x113) + (2 * x109 * ((-1 * x75 * x67) + (x73 * x79) + (-1 * x82 * x78) + x110 + (-1 * x85 * x31) + (x89 * x41) + (-1 * x88 * x57) + (x55 * x97) + (-1 * x84 * x34) + x112 + (x68 * x91) + (-1 * x111) + (-1 * x77 * aa_z) + (-1 * x80 * x90)));
	out[3] = 0;
	out[4] = 0;
	out[5] = 0;
}

// Jacobian of imu_rot_f_aa wrt [aa_x, aa_y, aa_z, lh_qi, lh_qj, lh_qk]
static inline void gen_imu_rot_f_aa_jac_imu_rot_aa(FLT* out, const FLT time, const FLT* imu_rot_aa) {
	const GEN_FLT aa_x = imu_rot_aa[0];
	const GEN_FLT aa_y = imu_rot_aa[1];
	const GEN_FLT aa_z = imu_rot_aa[2];
	const GEN_FLT lh_qi = imu_rot_aa[3];
	const GEN_FLT lh_qj = imu_rot_aa[4];
	const GEN_FLT lh_qk = imu_rot_aa[5];
	const GEN_FLT x0 = time * time;
	const GEN_FLT x1 = lh_qk * lh_qk;
	const GEN_FLT x2 = x0 * x1;
	const GEN_FLT x3 = lh_qi * lh_qi;
	const GEN_FLT x4 = x0 * x3;
	const GEN_FLT x5 = lh_qj * lh_qj;
	const GEN_FLT x6 = x0 * x5;
	const GEN_FLT x7 = 1e-10 + x6 + x2 + x4;
	const GEN_FLT x8 = sqrt(x7);
	const GEN_FLT x9 = 0.5 * x8;
	const GEN_FLT x10 = sin(x9);
	const GEN_FLT x11 = x10 * x10;
	const GEN_FLT x12 = 1. / x7;
	const GEN_FLT x13 = x12 * x11;
	const GEN_FLT x14 = cos(x9);
	const GEN_FLT x15 = 1e-11 + (x4 * x13) + (x14 * x14) + (x2 * x13) + (x6 * x13);
	const GEN_FLT x16 = 1. / sqrt(x15);
	const GEN_FLT x17 = aa_z * aa_z;
	const GEN_FLT x18 = aa_x * aa_x;
	const GEN_FLT x19 = aa_y * aa_y;
	const GEN_FLT x20 = 1e-10 + x19 + x17 + x18;
	const GEN_FLT x21 = sqrt(x20);
	const GEN_FLT x22 = 0.5 * x21;
	const GEN_FLT x23 = sin(x22);
	const GEN_FLT x24 = x23 * (1. / x21);
	const GEN_FLT x25 = x24 * x16;
	const GEN_FLT x26 = 1. / x20;
	const GEN_FLT x27 = x23 * x23;
	const GEN_FLT x28 = x26 * x27;
	const GEN_FLT x29 = cos(x22);
	const GEN_FLT x30 = 1e-11 + (x28 * x18) + (x28 * x17) + (x29 * x29) + (x28 * x19);
	const GEN_FLT x31 = 1. / sqrt(x30);
	const GEN_FLT x32 = (1. / x8) * x10;
	const GEN_FLT x33 = x32 * lh_qi;
	const GEN_FLT x34 = x33 * time;
	const GEN_FLT x35 = x31 * x34;
	const GEN_FLT x36 = x35 * x25;
	const GEN_FLT x37 = -1 * x36;
	const GEN_FLT x38 = x32 * time;
	const GEN_FLT x39 = x38 * lh_qj;
	const GEN_FLT x40 = x25 * aa_y;
	const GEN_FLT x41 = 2 * x28;
	const GEN_FLT x42 = 2 * (1. / (x20 * x20)) * x27;
	const GEN_FLT x43 = x42 * aa_x;
	const GEN_FLT x44 = aa_x * aa_x * aa_x;
	const GEN_FLT x45 = 1.0 * x29;
	const GEN_FLT x46 = x23 * (1. / (x20 * sqrt(x20)));
	const GEN_FLT x47 = x45 * x46;
	const GEN_FLT x48 = x45 * x24;
	const GEN_FLT x49 = x47 * x17;
	const GEN_FLT x50 = x47 * x19;
	const GEN_FLT x51 = (-1 * x43 * x19) + (-1 * x42 * x44) + (x50 * aa_x) + (-1 * x43 * x17) + (-1 * x48 * aa_x) + (x41 * aa_x) + (x44 * x47) + (x49 * aa_x);
	const GEN_FLT x52 = 1.0/2.0 * (1. / (x30 * sqrt(x30)));
	const GEN_FLT x53 = x52 * x51;
	const GEN_FLT x54 = x53 * x40;
	const GEN_FLT x55 = x25 * aa_x;
	const GEN_FLT x56 = x55 * x34;
	const GEN_FLT x57 = aa_x * aa_z;
	const GEN_FLT x58 = x29 * x16;
	const GEN_FLT x59 = x58 * x31;
	const GEN_FLT x60 = x59 * x38;
	const GEN_FLT x61 = x60 * lh_qk;
	const GEN_FLT x62 = 0.5 * x26;
	const GEN_FLT x63 = x61 * x62;
	const GEN_FLT x64 = x63 * x57;
	const GEN_FLT x65 = x46 * x16;
	const GEN_FLT x66 = x65 * x18;
	const GEN_FLT x67 = x25 * aa_z;
	const GEN_FLT x68 = x38 * lh_qk;
	const GEN_FLT x69 = x67 * x68;
	const GEN_FLT x70 = x52 * x14;
	const GEN_FLT x71 = x70 * x58;
	const GEN_FLT x72 = x31 * x38;
	const GEN_FLT x73 = x72 * lh_qk;
	const GEN_FLT x74 = x73 * x65;
	const GEN_FLT x75 = x74 * x57;
	const GEN_FLT x76 = x31 * x14;
	const GEN_FLT x77 = x76 * x16;
	const GEN_FLT x78 = x77 * x24;
	const GEN_FLT x79 = x78 * aa_x;
	const GEN_FLT x80 = 0.5 * x79;
	const GEN_FLT x81 = x59 * x34;
	const GEN_FLT x82 = x81 * x62;
	const GEN_FLT x83 = aa_x * aa_y;
	const GEN_FLT x84 = x72 * lh_qj;
	const GEN_FLT x85 = x84 * x65;
	const GEN_FLT x86 = x60 * lh_qj;
	const GEN_FLT x87 = x86 * x62;
	const GEN_FLT x88 = (-1 * x83 * x87) + (x83 * x85);
	const GEN_FLT x89 = (-1 * x80) + (-1 * x82 * x18) + (-1 * x71 * x51) + x88 + (x54 * x39) + x75 + (x69 * x53) + (x66 * x35) + (x53 * x56) + x37 + (-1 * x64);
	const GEN_FLT x90 = x72 * x55;
	const GEN_FLT x91 = x90 * lh_qk;
	const GEN_FLT x92 = x78 * aa_y;
	const GEN_FLT x93 = x67 * x35;
	const GEN_FLT x94 = (-1 * x93) + x92 + x91 + x86;
	const GEN_FLT x95 = x72 * x25;
	const GEN_FLT x96 = x95 * aa_z;
	const GEN_FLT x97 = x96 * lh_qk;
	const GEN_FLT x98 = x95 * aa_y;
	const GEN_FLT x99 = x98 * lh_qj;
	const GEN_FLT x100 = x76 * x58;
	const GEN_FLT x101 = x55 * x35;
	const GEN_FLT x102 = x100 + (-1 * x97) + (-1 * x101) + (-1 * x99);
	const GEN_FLT x103 = x102 * x102;
	const GEN_FLT x104 = x98 * lh_qk;
	const GEN_FLT x105 = x96 * lh_qj;
	const GEN_FLT x106 = x81 + x105 + (-1 * x104) + x79;
	const GEN_FLT x107 = 1e-10 + (x106 * x106) + (x94 * x94) + x103;
	const GEN_FLT x108 = (1. / x103) * x107;
	const GEN_FLT x109 = x87 * x57;
	const GEN_FLT x110 = x83 * x63;
	const GEN_FLT x111 = x52 * x58;
	const GEN_FLT x112 = x34 * x111;
	const GEN_FLT x113 = 0.5 * x100;
	const GEN_FLT x114 = x26 * x113;
	const GEN_FLT x115 = x70 * x51;
	const GEN_FLT x116 = x85 * x57;
	const GEN_FLT x117 = x83 * x74;
	const GEN_FLT x118 = x67 * x39;
	const GEN_FLT x119 = x77 * x46;
	const GEN_FLT x120 = (-1 * x18 * x119) + (-1 * x51 * x112) + (-1 * x110) + (-0.5 * x101) + (-1 * x53 * x118) + (x68 * x54) + (x18 * x114) + x109 + (-1 * x55 * x115) + (-1 * x116) + x117 + x78;
	const GEN_FLT x121 = 2 * x106;
	const GEN_FLT x122 = x38 * x111;
	const GEN_FLT x123 = x122 * lh_qj;
	const GEN_FLT x124 = x95 * lh_qk;
	const GEN_FLT x125 = x68 * x55;
	const GEN_FLT x126 = x90 * lh_qj;
	const GEN_FLT x127 = x65 * x35;
	const GEN_FLT x128 = (x57 * x127) + (-1 * x82 * x57);
	const GEN_FLT x129 = (-1 * x83 * x119) + (x83 * x114);
	const GEN_FLT x130 = x128 + (-1 * x40 * x115) + (x67 * x53 * x34) + (-0.5 * x126) + x124 + (-1 * x51 * x123) + x129 + (-1 * x73 * x66) + (x63 * x18) + (-1 * x53 * x125);
	const GEN_FLT x131 = 2 * x94;
	const GEN_FLT x132 = 2 * x102;
	const GEN_FLT x133 = (x89 * x132) + (x120 * x121) + (x130 * x131);
	const GEN_FLT x134 = 1. / x102;
	const GEN_FLT x135 = (x133 * x134) + (-1 * x89 * x108);
	const GEN_FLT x136 = 1. / x107;
	const GEN_FLT x137 = x107 * x107;
	const GEN_FLT x138 = (1. / (x103 + x137)) * x103 * x136;
	const GEN_FLT x139 = x121 * x138;
	const GEN_FLT x140 = atan2(x107, x102);
	const GEN_FLT x141 = 1. / x137;
	const GEN_FLT x142 = x140 * x141;
	const GEN_FLT x143 = x121 * x142;
	const GEN_FLT x144 = 2 * x140;
	const GEN_FLT x145 = x136 * x144;
	const GEN_FLT x146 = x95 * lh_qj;
	const GEN_FLT x147 = -1 * x146;
	const GEN_FLT x148 = x42 * aa_y;
	const GEN_FLT x149 = x47 * x18;
	const GEN_FLT x150 = aa_y * aa_y * aa_y;
	const GEN_FLT x151 = (x47 * x150) + (x41 * aa_y) + (x49 * aa_y) + (x149 * aa_y) + (-1 * x48 * aa_y) + (-1 * x18 * x148) + (-1 * x42 * x150) + (-1 * x17 * x148);
	const GEN_FLT x152 = x52 * x151;
	const GEN_FLT x153 = x40 * x152;
	const GEN_FLT x154 = x62 * x19;
	const GEN_FLT x155 = x67 * x152;
	const GEN_FLT x156 = 0.5 * x92;
	const GEN_FLT x157 = x82 * x83;
	const GEN_FLT x158 = x65 * x19;
	const GEN_FLT x159 = x83 * x127;
	const GEN_FLT x160 = aa_y * aa_z;
	const GEN_FLT x161 = (x74 * x160) + (-1 * x63 * x160);
	const GEN_FLT x162 = x161 + (x56 * x152) + (-1 * x157) + (-1 * x156) + (x39 * x153) + x147 + x159 + (x84 * x158) + (-1 * x86 * x154) + (-1 * x71 * x151) + (x68 * x155);
	const GEN_FLT x163 = -1 * x124;
	const GEN_FLT x164 = x40 * x35;
	const GEN_FLT x165 = x85 * x160;
	const GEN_FLT x166 = x87 * x160;
	const GEN_FLT x167 = x70 * x151;
	const GEN_FLT x168 = x129 + (-1 * x112 * x151) + (-1 * x55 * x167) + x166 + (-1 * x165) + (-0.5 * x164) + x163 + (x73 * x158) + (x68 * x153) + (-1 * x118 * x152) + (-1 * x61 * x154);
	const GEN_FLT x169 = x82 * x160;
	const GEN_FLT x170 = x127 * x160;
	const GEN_FLT x171 = (x19 * x114) + x110 + (-1 * x123 * x151) + x170 + (-1 * x117) + (-1 * x125 * x152) + (-0.5 * x99) + x78 + (x34 * x155) + (-1 * x40 * x167) + (-1 * x169) + (-1 * x19 * x119);
	const GEN_FLT x172 = (x121 * x168) + (x162 * x132) + (x171 * x131);
	const GEN_FLT x173 = (x172 * x134) + (-1 * x108 * x162);
	const GEN_FLT x174 = x65 * x17;
	const GEN_FLT x175 = x42 * aa_z;
	const GEN_FLT x176 = aa_z * aa_z * aa_z;
	const GEN_FLT x177 = (-1 * x19 * x175) + (x50 * aa_z) + (-1 * x42 * x176) + (-1 * x48 * aa_z) + (-1 * x18 * x175) + (x41 * aa_z) + (x149 * aa_z) + (x47 * x176);
	const GEN_FLT x178 = x52 * x177;
	const GEN_FLT x179 = x40 * x178;
	const GEN_FLT x180 = x78 * aa_z;
	const GEN_FLT x181 = 0.5 * x180;
	const GEN_FLT x182 = x34 * x178;
	const GEN_FLT x183 = (x55 * x182) + (-1 * x71 * x177) + (-1 * x166) + (x69 * x178) + x165 + (x39 * x179) + (-1 * x181) + (-1 * x63 * x17) + x163 + x128 + (x73 * x174);
	const GEN_FLT x184 = x70 * x177;
	const GEN_FLT x185 = x119 * aa_z;
	const GEN_FLT x186 = x114 * aa_z;
	const GEN_FLT x187 = (x186 * aa_x) + (-1 * x185 * aa_x);
	const GEN_FLT x188 = x161 + x187 + (-1 * x112 * x177) + (-1 * x84 * x174) + (x87 * x17) + (-1 * x55 * x184) + (-1 * x118 * x178) + (-0.5 * x93) + x146 + (x68 * x179);
	const GEN_FLT x189 = (x186 * aa_y) + (-1 * x185 * aa_y);
	const GEN_FLT x190 = x189 + (-1 * x123 * x177) + (x67 * x182) + (-1 * x125 * x178) + (-1 * x40 * x184) + (-0.5 * x105) + (-1 * x82 * x17) + (-1 * x75) + (x35 * x174) + x37 + x64;
	const GEN_FLT x191 = (x183 * x132) + (x121 * x188) + (x190 * x131);
	const GEN_FLT x192 = (x191 * x134) + (-1 * x108 * x183);
	const GEN_FLT x193 = x191 * x142;
	const GEN_FLT x194 = time * time * time;
	const GEN_FLT x195 = x12 * x194;
	const GEN_FLT x196 = x80 * x195;
	const GEN_FLT x197 = lh_qj * lh_qi;
	const GEN_FLT x198 = x195 * x156;
	const GEN_FLT x199 = x197 * x198;
	const GEN_FLT x200 = lh_qi * lh_qi * lh_qi;
	const GEN_FLT x201 = time * time * time * time;
	const GEN_FLT x202 = 1.0 * x14;
	const GEN_FLT x203 = (1. / (x7 * sqrt(x7))) * x10;
	const GEN_FLT x204 = x202 * x203;
	const GEN_FLT x205 = x201 * x204;
	const GEN_FLT x206 = 2 * (1. / (x7 * x7)) * x11;
	const GEN_FLT x207 = x201 * x206;
	const GEN_FLT x208 = 2 * x13;
	const GEN_FLT x209 = x0 * x208;
	const GEN_FLT x210 = x5 * x207;
	const GEN_FLT x211 = x1 * x205;
	const GEN_FLT x212 = x1 * x207;
	const GEN_FLT x213 = x0 * x33;
	const GEN_FLT x214 = x5 * x205;
	const GEN_FLT x215 = (x214 * lh_qi) + (-1 * x212 * lh_qi) + (-1 * x200 * x207) + (-1 * x213 * x202) + (x200 * x205) + (x209 * lh_qi) + (-1 * x210 * lh_qi) + (x211 * lh_qi);
	const GEN_FLT x216 = 1.0/2.0 * (1. / (x15 * sqrt(x15)));
	const GEN_FLT x217 = x24 * x216;
	const GEN_FLT x218 = x73 * x217;
	const GEN_FLT x219 = x218 * x215;
	const GEN_FLT x220 = x31 * x203;
	const GEN_FLT x221 = x220 * x194;
	const GEN_FLT x222 = x40 * x221;
	const GEN_FLT x223 = x222 * x197;
	const GEN_FLT x224 = x84 * x217;
	const GEN_FLT x225 = x215 * x224;
	const GEN_FLT x226 = x3 * x221;
	const GEN_FLT x227 = x76 * x216;
	const GEN_FLT x228 = x29 * x227;
	const GEN_FLT x229 = 0.5 * x59;
	const GEN_FLT x230 = -1 * x90;
	const GEN_FLT x231 = x217 * aa_x;
	const GEN_FLT x232 = x35 * x231;
	const GEN_FLT x233 = lh_qk * lh_qi;
	const GEN_FLT x234 = x181 * x195;
	const GEN_FLT x235 = x67 * x221;
	const GEN_FLT x236 = (x233 * x235) + (-1 * x234 * x233);
	const GEN_FLT x237 = x236 + (-1 * x213 * x229) + x230 + (x55 * x226) + (-1 * x215 * x228) + (-1 * x199) + (x219 * aa_z) + x223 + (x215 * x232) + (-1 * x3 * x196) + (x225 * aa_y);
	const GEN_FLT x238 = x12 * x113;
	const GEN_FLT x239 = x238 * x194;
	const GEN_FLT x240 = x233 * x222;
	const GEN_FLT x241 = x24 * x227;
	const GEN_FLT x242 = x215 * x241;
	const GEN_FLT x243 = x59 * x203;
	const GEN_FLT x244 = x243 * x194;
	const GEN_FLT x245 = x233 * x198;
	const GEN_FLT x246 = x234 * x197;
	const GEN_FLT x247 = x217 * aa_z;
	const GEN_FLT x248 = x84 * x247;
	const GEN_FLT x249 = x235 * x197;
	const GEN_FLT x250 = 0.5 * x31;
	const GEN_FLT x251 = x55 * x250;
	const GEN_FLT x252 = x29 * x216;
	const GEN_FLT x253 = x215 * x252;
	const GEN_FLT x254 = (-1 * x242 * aa_x) + (-1 * x35 * x253) + x240 + x246 + (-1 * x215 * x248) + (x3 * x239) + (-1 * x249) + (-1 * x3 * x244) + (x219 * aa_y) + (-1 * x245) + x60 + (-1 * x213 * x251);
	const GEN_FLT x255 = x233 * x196;
	const GEN_FLT x256 = x55 * x221;
	const GEN_FLT x257 = x233 * x256;
	const GEN_FLT x258 = -1 * x96;
	const GEN_FLT x259 = x40 * x250;
	const GEN_FLT x260 = (x239 * x197) + (-1 * x244 * x197);
	const GEN_FLT x261 = x260 + (x35 * x215 * x247) + (-1 * x213 * x259) + (x3 * x235) + (-1 * x84 * x253) + x258 + (-1 * x3 * x234) + x255 + (-1 * x257) + (-1 * x219 * aa_x) + (-1 * x242 * aa_y);
	const GEN_FLT x262 = (x254 * x121) + (x237 * x132) + (x261 * x131);
	const GEN_FLT x263 = (x262 * x134) + (-1 * x237 * x108);
	const GEN_FLT x264 = x262 * x142;
	const GEN_FLT x265 = x3 * x205;
	const GEN_FLT x266 = x3 * x207;
	const GEN_FLT x267 = x0 * lh_qj;
	const GEN_FLT x268 = x32 * x202;
	const GEN_FLT x269 = x201 * (lh_qj * lh_qj * lh_qj);
	const GEN_FLT x270 = (x208 * x267) + (x204 * x269) + (x265 * lh_qj) + (-1 * x212 * lh_qj) + (-1 * x206 * x269) + (-1 * x266 * lh_qj) + (-1 * x268 * x267) + (x211 * lh_qj);
	const GEN_FLT x271 = x224 * aa_y;
	const GEN_FLT x272 = x5 * x194;
	const GEN_FLT x273 = x272 * x220;
	const GEN_FLT x274 = lh_qk * lh_qj;
	const GEN_FLT x275 = x234 * x274;
	const GEN_FLT x276 = x12 * x272;
	const GEN_FLT x277 = -1 * x98;
	const GEN_FLT x278 = x35 * x270;
	const GEN_FLT x279 = x32 * x229;
	const GEN_FLT x280 = x235 * x274;
	const GEN_FLT x281 = (-1 * x196 * x197) + (x256 * x197);
	const GEN_FLT x282 = x280 + (-1 * x279 * x267) + (x231 * x278) + x277 + (-1 * x276 * x156) + (x40 * x273) + (x218 * x270 * aa_z) + (-1 * x275) + x281 + (x271 * x270) + (-1 * x270 * x228);
	const GEN_FLT x283 = x270 * x252;
	const GEN_FLT x284 = x32 * x267;
	const GEN_FLT x285 = x270 * x241;
	const GEN_FLT x286 = x218 * aa_y;
	const GEN_FLT x287 = (x274 * x222) + (-1 * x274 * x198);
	const GEN_FLT x288 = x287 + (-1 * x270 * x248) + (x276 * x181) + (-1 * x284 * x251) + x260 + x96 + (-1 * x35 * x283) + (-1 * x67 * x273) + (x270 * x286) + (-1 * x285 * aa_x);
	const GEN_FLT x289 = x218 * aa_x;
	const GEN_FLT x290 = x274 * x256;
	const GEN_FLT x291 = x274 * x196;
	const GEN_FLT x292 = (-1 * x285 * aa_y) + (-1 * x290) + (-1 * x84 * x283) + (-1 * x270 * x289) + (-1 * x246) + (x278 * x247) + (x238 * x272) + x60 + (-1 * x272 * x243) + x249 + x291 + (-1 * x284 * x259);
	const GEN_FLT x293 = (x288 * x121) + (x282 * x132) + (x292 * x131);
	const GEN_FLT x294 = (x293 * x134) + (-1 * x282 * x108);
	const GEN_FLT x295 = x293 * x142;
	const GEN_FLT x296 = x0 * lh_qk;
	const GEN_FLT x297 = lh_qk * lh_qk * lh_qk;
	const GEN_FLT x298 = (-1 * x207 * x297) + (x214 * lh_qk) + (-1 * x210 * lh_qk) + (x209 * lh_qk) + (-1 * x266 * lh_qk) + (x205 * x297) + (x265 * lh_qk) + (-1 * x296 * x268);
	const GEN_FLT x299 = x298 * aa_z;
	const GEN_FLT x300 = x298 * x241;
	const GEN_FLT x301 = x1 * x221;
	const GEN_FLT x302 = x298 * x252;
	const GEN_FLT x303 = x32 * x296;
	const GEN_FLT x304 = x250 * x303;
	const GEN_FLT x305 = x239 * lh_qk;
	const GEN_FLT x306 = x244 * lh_qk;
	const GEN_FLT x307 = (-1 * x306 * lh_qi) + (x305 * lh_qi);
	const GEN_FLT x308 = (-1 * x55 * x304) + x275 + (-1 * x280) + (-1 * x35 * x302) + (-1 * x1 * x198) + (x40 * x301) + x277 + (x298 * x286) + (-1 * x299 * x224) + x307 + (-1 * x300 * aa_x);
	const GEN_FLT x309 = x35 * x217;
	const GEN_FLT x310 = (-1 * x306 * lh_qj) + (x305 * lh_qj);
	const GEN_FLT x311 = x310 + x236 + x90 + (-1 * x40 * x304) + (x299 * x309) + (x1 * x196) + (-1 * x298 * x289) + (-1 * x84 * x302) + (-1 * x300 * aa_y) + (-1 * x55 * x301);
	const GEN_FLT x312 = x257 + (x271 * x298) + (-1 * x1 * x234) + x287 + (-1 * x279 * x296) + (x232 * x298) + (-1 * x298 * x228) + x258 + (x218 * x299) + (-1 * x255) + (x1 * x235);
	const GEN_FLT x313 = (x308 * x121) + (x312 * x132) + (x311 * x131);
	const GEN_FLT x314 = (x313 * x134) + (-1 * x312 * x108);
	const GEN_FLT x315 = x131 * x138;
	const GEN_FLT x316 = x131 * x142;
	const GEN_FLT x317 = x192 * x138;
	const GEN_FLT x318 = x164 + x180 + x61 + (-1 * x126);
	const GEN_FLT x319 = 2 * x318;
	const GEN_FLT x320 = x319 * x138;
	const GEN_FLT x321 = x122 * lh_qk;
	const GEN_FLT x322 = x55 * x39;
	const GEN_FLT x323 = x318 * x141 * x144;
	const GEN_FLT x324 = x67 * x250;
	const GEN_FLT x325 = x309 * aa_y;
	const GEN_FLT x326 = x224 * aa_x;
	out[0] = (x120 * x145) + (x135 * x139) + (-1 * x133 * x143);
	out[1] = (x168 * x145) + (x173 * x139) + (-1 * x172 * x143);
	out[2] = (x188 * x145) + (x192 * x139) + (-1 * x121 * x193);
	out[3] = (x254 * x145) + (x263 * x139) + (-1 * x264 * x121);
	out[4] = (x288 * x145) + (x294 * x139) + (-1 * x295 * x121);
	out[5] = (x308 * x145) + (-1 * x313 * x143) + (x314 * x139);
	out[6] = (x130 * x145) + (x315 * x135) + (-1 * x316 * x133);
	out[7] = (x171 * x145) + (x315 * x173) + (-1 * x316 * x172);
	out[8] = (x190 * x145) + (x317 * x131) + (-1 * x193 * x131);
	out[9] = (x261 * x145) + (x263 * x315) + (-1 * x264 * x131);
	out[10] = (x292 * x145) + (x294 * x315) + (-1 * x295 * x131);
	out[11] = (x311 * x145) + (x315 * x314) + (-1 * x313 * x316);
	out[12] = (-1 * x323 * x133) + (x320 * x135) + (x145 * (x187 + (-1 * x67 * x115) + (x84 * x66) + (-1 * x54 * x34) + x157 + (-1 * x87 * x18) + (x53 * x322) + x147 + (-1 * x51 * x321) + (-1 * x159) + (-0.5 * x91)));
	out[13] = (-1 * x323 * x172) + (x320 * x173) + (x145 * (x88 + (x82 * x19) + (-1 * x34 * x153) + (x322 * x152) + (-1 * x321 * x151) + (-1 * x35 * x158) + x189 + x36 + (-0.5 * x104) + (-1 * x67 * x167)));
	out[14] = (x317 * x319) + (-1 * x323 * x191) + (x145 * ((-1 * x40 * x182) + (-1 * x170) + (-1 * x67 * x184) + x169 + x116 + (-1 * x321 * x177) + (-0.5 * x97) + (x322 * x178) + (-1 * x109) + (-1 * x17 * x119) + (x17 * x114) + x78));
	out[15] = (-1 * x262 * x323) + (x145 * (x281 + (-1 * x242 * aa_z) + (-1 * x215 * x325) + x307 + (-1 * x213 * x324) + (-1 * x40 * x226) + (x225 * aa_x) + x98 + (x3 * x198) + (-1 * x73 * x253))) + (x263 * x320);
	out[16] = (-1 * x293 * x323) + (x145 * (x310 + (-1 * x284 * x324) + (x270 * x326) + (-1 * x223) + x199 + (-1 * x73 * x283) + (x55 * x273) + x230 + (-1 * x217 * x278 * aa_y) + (-1 * x285 * aa_z) + (-1 * x80 * x276))) + (x294 * x320);
	out[17] = (-1 * x313 * x323) + (x314 * x320) + (x145 * (x245 + (-1 * x291) + (-1 * x73 * x302) + (-1 * x303 * x324) + (x1 * x239) + (-1 * x1 * x244) + (-1 * x240) + (-1 * x300 * aa_z) + x290 + (x298 * x326) + x60 + (-1 * x298 * x325)));
	out[18] = 0;
	out[19] = 0;
	out[20] = 0;
	out[21] = 1;
	out[22] = 0;
	out[23] = 0;
	out[24] = 0;
	out[25] = 0;
	out[26] = 0;
	out[27] = 0;
	out[28] = 1;
	out[29] = 0;
	out[30] = 0;
	out[31] = 0;
	out[32] = 0;
	out[33] = 0;
	out[34] = 0;
	out[35] = 1;
}

static inline void gen_imu_correct_up(FLT* out, const FLT mu, const FLT* imu_rot, const FLT* up_in_obj) {
	const GEN_FLT obj_qw = imu_rot[0];
	const GEN_FLT obj_qi = imu_rot[1];
	const GEN_FLT obj_qj = imu_rot[2];
	const GEN_FLT obj_qk = imu_rot[3];
	const GEN_FLT aa_x = imu_rot[4];
	const GEN_FLT aa_y = imu_rot[5];
	const GEN_FLT aa_z = imu_rot[6];
	const GEN_FLT obj_up_x = up_in_obj[0];
	const GEN_FLT obj_up_y = up_in_obj[1];
	const GEN_FLT obj_up_z = up_in_obj[2];
	const GEN_FLT x0 = (-1 * obj_qi * obj_up_z) + (obj_qw * obj_up_y) + (obj_qk * obj_up_x);
	const GEN_FLT x1 = (-1 * obj_qj * obj_up_x) + (obj_qw * obj_up_z) + (obj_qi * obj_up_y);
	const GEN_FLT x2 = obj_up_x + (2 * ((x1 * obj_qj) + (-1 * x0 * obj_qk)));
	const GEN_FLT x3 = x2 * x2;
	const GEN_FLT x4 = (-1 * obj_qk * obj_up_y) + (obj_qw * obj_up_x) + (obj_qj * obj_up_z);
	const GEN_FLT x5 = obj_up_y + (2 * ((x4 * obj_qk) + (-1 * x1 * obj_qi)));
	const GEN_FLT x6 = x5 * x5;
	const GEN_FLT x7 = atan2(sqrt(x3 + x6), obj_up_z + (2 * ((x0 * obj_qi) + (-1 * x4 * obj_qj))));
	const GEN_FLT x8 = 0.25 * (mu * mu) * (x7 * x7);
	const GEN_FLT x9 = x3 * x8;
	const GEN_FLT x10 = x6 * x8;
	const GEN_FLT x11 = 1e-10 + x10 + x9;
	const GEN_FLT x12 = sqrt(x11);
	const GEN_FLT x13 = 0.5 * x12;
	const GEN_FLT x14 = sin(x13);
	const GEN_FLT x15 = (x14 * x14) * (1. / x11);
	const GEN_FLT x16 = cos(x13);
	const GEN_FLT x17 = 1. / sqrt(1e-11 + (x15 * x10) + (x9 * x15) + (x16 * x16));
	const GEN_FLT x18 = 0.5 * mu * x7 * x14 * (1. / x12) * x17;
	const GEN_FLT x19 = x2 * x18;
	const GEN_FLT x20 = x17 * x16;
	const GEN_FLT x21 = x5 * x18;
	const GEN_FLT x22 = x18 * obj_qw;
	out[0] = (x19 * obj_qj) + (-1 * x21 * obj_qi) + (x20 * obj_qw);
	out[1] = (x5 * x22) + (-1 * x19 * obj_qk) + (x20 * obj_qi);
	out[2] = (-1 * x2 * x22) + (-1 * x21 * obj_qk) + (x20 * obj_qj);
	out[3] = (x21 * obj_qj) + (x19 * obj_qi) + (x20 * obj_qk);
	out[4] = aa_x;
	out[5] = aa_y;
	out[6] = aa_z;
}

// Jacobian of imu_correct_up wrt [mu]
static inline void gen_imu_correct_up_jac_mu(FLT* out, const FLT mu, const FLT* imu_rot, const FLT* up_in_obj) {
	const GEN_FLT obj_qw = imu_rot[0];
	const GEN_FLT obj_qi = imu_rot[1];
	const GEN_FLT obj_qj = imu_rot[2];
	const GEN_FLT obj_qk = imu_rot[3];
	const GEN_FLT aa_x = imu_rot[4];
	const GEN_FLT aa_y = imu_rot[5];
	const GEN_FLT aa_z = imu_rot[6];
	const GEN_FLT obj_up_x = up_in_obj[0];
	const GEN_FLT obj_up_y = up_in_obj[1];
	const GEN_FLT obj_up_z = up_in_obj[2];
	const GEN_FLT x0 = (-1 * obj_qj * obj_up_x) + (obj_qw * obj_up_z) + (obj_qi * obj_up_y);
	const GEN_FLT x1 = (-1 * obj_qk * obj_up_y) + (obj_qw * obj_up_x) + (obj_qj * obj_up_z);
	const GEN_FLT x2 = obj_up_y + (2 * ((x1 * obj_qk) + (-1 * x0 * obj_qi)));
	const GEN_FLT x3 = x2 * x2;
	const GEN_FLT x4 = (-1 * obj_qi * obj_up_z) + (obj_qw * obj_up_y) + (obj_qk * obj_up_x);
	const GEN_FLT x5 = obj_up_x + (2 * ((x0 * obj_qj) + (-1 * x4 * obj_qk)));
	const GEN_FLT x6 = x5 * x5;
	const GEN_FLT x7 = atan2(sqrt(x6 + x3), obj_up_z + (2 * ((x4 * obj_qi) + (-1 * x1 * obj_qj))));
	const GEN_FLT x8 = x2 * x7;
	const GEN_FLT x9 = mu * mu;
	const GEN_FLT x10 = 0.25 * x9;
	const GEN_FLT x11 = x7 * x7;
	const GEN_FLT x12 = x6 * x11;
	const GEN_FLT x13 = x12 * x10;
	const GEN_FLT x14 = x3 * x11;
	const GEN_FLT x15 = x14 * x10;
	const GEN_FLT x16 = 1e-10 + x15 + x13;
	const GEN_FLT x17 = 1. / x16;
	const GEN_FLT x18 = sqrt(x16);
	const GEN_FLT x19 = 0.5 * x18;
	const GEN_FLT x20 = sin(x19);
	const GEN_FLT x21 = x20 * x20;
	const GEN_FLT x22 = x21 * x17;
	const GEN_FLT x23 = cos(x19);
	const GEN_FLT x24 = 1e-11 + (x22 * x15) + (x22 * x13) + (x23 * x23);
	const GEN_FLT x25 = 0.5 * mu;
	const GEN_FLT x26 = x25 * x14;
	const GEN_FLT x27 = x25 * x12;
	const GEN_FLT x28 = x27 + x26;
	const GEN_FLT x29 = x21 * x28 * (1. / (x16 * x16));
	const GEN_FLT x30 = x20 * x28;
	const GEN_FLT x31 = x30 * (1. / (x16 * sqrt(x16)));
	const GEN_FLT x32 = 0.125 * x23;
	const GEN_FLT x33 = x9 * x32 * x31;
	const GEN_FLT x34 = 1. / x18;
	const GEN_FLT x35 = x30 * x34;
	const GEN_FLT x36 = (1. / (x24 * sqrt(x24))) * ((-0.5 * x35 * x23) + (x33 * x14) + (x22 * x27) + (x22 * x26) + (-1 * x29 * x15) + (-1 * x29 * x13) + (x33 * x12));
	const GEN_FLT x37 = x34 * x20;
	const GEN_FLT x38 = 0.25 * mu;
	const GEN_FLT x39 = x36 * x38 * x37;
	const GEN_FLT x40 = x8 * x39;
	const GEN_FLT x41 = 1. / sqrt(x24);
	const GEN_FLT x42 = x8 * x41;
	const GEN_FLT x43 = mu * x28 * x17;
	const GEN_FLT x44 = x43 * x32;
	const GEN_FLT x45 = x44 * obj_qi;
	const GEN_FLT x46 = 0.5 * x37;
	const GEN_FLT x47 = x41 * x46;
	const GEN_FLT x48 = x8 * x47;
	const GEN_FLT x49 = 1.0/2.0 * x36;
	const GEN_FLT x50 = x49 * x23;
	const GEN_FLT x51 = x5 * x7;
	const GEN_FLT x52 = x51 * x41;
	const GEN_FLT x53 = x31 * x38;
	const GEN_FLT x54 = x53 * obj_qj;
	const GEN_FLT x55 = x51 * x39;
	const GEN_FLT x56 = x53 * obj_qi;
	const GEN_FLT x57 = x23 * obj_qj;
	const GEN_FLT x58 = 0.125 * x57 * x43;
	const GEN_FLT x59 = x51 * x47;
	const GEN_FLT x60 = 0.25 * x35;
	const GEN_FLT x61 = x60 * x41;
	const GEN_FLT x62 = x42 * obj_qw;
	const GEN_FLT x63 = x41 * obj_qk;
	const GEN_FLT x64 = x63 * x51;
	const GEN_FLT x65 = x8 * x63;
	const GEN_FLT x66 = x51 * obj_qw;
	const GEN_FLT x67 = x66 * x41;
	out[0] = (-1 * x61 * obj_qw) + (x59 * obj_qj) + (x52 * x58) + (x56 * x42) + (-1 * x42 * x45) + (-1 * x55 * obj_qj) + (-1 * x50 * obj_qw) + (-1 * x48 * obj_qi) + (x40 * obj_qi) + (-1 * x54 * x52);
	out[1] = (x55 * obj_qk) + (-1 * x50 * obj_qi) + (x64 * x53) + (x48 * obj_qw) + (-1 * x40 * obj_qw) + (-1 * x62 * x53) + (-1 * x64 * x46) + (x62 * x44) + (-1 * x61 * obj_qi) + (-1 * x64 * x44);
	out[2] = (-1 * x67 * x44) + (x66 * x39) + (-1 * x61 * obj_qj) + (-1 * x66 * x47) + (-1 * x65 * x46) + (x65 * x53) + (x40 * obj_qk) + (-1 * x57 * x49) + (-1 * x65 * x44) + (x67 * x53);
	out[3] = (-1 * x60 * x63) + (x48 * obj_qj) + (-1 * x52 * x56) + (-1 * x55 * obj_qi) + (x58 * x42) + (-1 * x40 * obj_qj) + (x59 * obj_qi) + (-1 * x54 * x42) + (-1 * x50 * obj_qk) + (x52 * x45);
	out[4] = 0;
	out[5] = 0;
	out[6] = 0;
}

// Jacobian of imu_correct_up wrt [obj_qw, obj_qi, obj_qj, obj_qk, aa_x, aa_y, aa_z]
static inline void gen_imu_correct_up_jac_imu_rot(FLT* out, const FLT mu, const FLT* imu_rot, const FLT* up_in_obj) {
	const GEN_FLT obj_qw = imu_rot[0];
	const GEN_FLT obj_qi = imu_rot[1];
	const GEN_FLT obj_qj = imu_rot[2];
	const GEN_FLT obj_qk = imu_rot[3];
	const GEN_FLT aa_x = imu_rot[4];
	const GEN_FLT aa_y = imu_rot[5];
	const GEN_FLT aa_z = imu_rot[6];
	const GEN_FLT obj_up_x = up_in_obj[0];
	const GEN_FLT obj_up_y = up_in_obj[1];
	const GEN_FLT obj_up_z = up_in_obj[2];
	const GEN_FLT x0 = obj_qi * obj_up_z;
	const GEN_FLT x1 = 2 * x0;
	const GEN_FLT x2 = obj_qk * obj_up_x;
	const GEN_FLT x3 = 2 * x2;
	const GEN_FLT x4 = x3 + (-1 * x1);
	const GEN_FLT x5 = obj_qw * obj_up_y;
	const GEN_FLT x6 = (-1 * x0) + x5 + x2;
	const GEN_FLT x7 = obj_qw * obj_up_z;
	const GEN_FLT x8 = obj_qi * obj_up_y;
	const GEN_FLT x9 = obj_qj * obj_up_x;
	const GEN_FLT x10 = (-1 * x9) + x7 + x8;
	const GEN_FLT x11 = obj_up_x + (2 * ((x10 * obj_qj) + (-1 * x6 * obj_qk)));
	const GEN_FLT x12 = x11 * x11;
	const GEN_FLT x13 = mu * mu;
	const GEN_FLT x14 = obj_qw * obj_up_x;
	const GEN_FLT x15 = obj_qj * obj_up_z;
	const GEN_FLT x16 = obj_qk * obj_up_y;
	const GEN_FLT x17 = x14 + (-1 * x16) + x15;
	const GEN_FLT x18 = obj_up_y + (2 * ((x17 * obj_qk) + (-1 * x10 * obj_qi)));
	const GEN_FLT x19 = x18 * x18;
	const GEN_FLT x20 = x12 + x19;
	const GEN_FLT x21 = sqrt(x20);
	const GEN_FLT x22 = obj_up_z + (2 * ((x6 * obj_qi) + (-1 * x17 * obj_qj)));
	const GEN_FLT x23 = atan2(x21, x22);
	const GEN_FLT x24 = (x23 * x23) * x13;
	const GEN_FLT x25 = 0.25 * x24;
	const GEN_FLT x26 = x25 * x12;
	const GEN_FLT x27 = x25 * x19;
	const GEN_FLT x28 = 1e-10 + x27 + x26;
	const GEN_FLT x29 = sqrt(x28);
	const GEN_FLT x30 = 0.5 * x29;
	const GEN_FLT x31 = sin(x30);
	const GEN_FLT x32 = x31 * (1. / x29);
	const GEN_FLT x33 = 1. / x28;
	const GEN_FLT x34 = x31 * x31;
	const GEN_FLT x35 = x34 * x33;
	const GEN_FLT x36 = cos(x30);
	const GEN_FLT x37 = 1e-11 + (x35 * x27) + (x35 * x26) + (x36 * x36);
	const GEN_FLT x38 = 1. / sqrt(x37);
	const GEN_FLT x39 = 0.5 * x23;
	const GEN_FLT x40 = x38 * x39;
	const GEN_FLT x41 = x40 * x32;
	const GEN_FLT x42 = mu * x41;
	const GEN_FLT x43 = x4 * x42;
	const GEN_FLT x44 = 1. / (x37 * sqrt(x37));
	const GEN_FLT x45 = x39 * x13;
	const GEN_FLT x46 = x45 * x19;
	const GEN_FLT x47 = 2 * x16;
	const GEN_FLT x48 = 2 * x15;
	const GEN_FLT x49 = x48 + (-1 * x47);
	const GEN_FLT x50 = 2 * x11;
	const GEN_FLT x51 = 2 * x18;
	const GEN_FLT x52 = 1.0/2.0 * (1. / x22) * (1. / x21);
	const GEN_FLT x53 = 2 * x9;
	const GEN_FLT x54 = 2 * x8;
	const GEN_FLT x55 = x22 * x22;
	const GEN_FLT x56 = (1. / x55) * x21;
	const GEN_FLT x57 = (1. / (x20 + x55)) * x55;
	const GEN_FLT x58 = x57 * ((-1 * (x54 + (-1 * x53)) * x56) + (x52 * ((x4 * x51) + (x50 * x49))));
	const GEN_FLT x59 = x58 * x46;
	const GEN_FLT x60 = 0.5 * x24;
	const GEN_FLT x61 = x60 * x18;
	const GEN_FLT x62 = x4 * x61;
	const GEN_FLT x63 = x45 * x12;
	const GEN_FLT x64 = x63 * x58;
	const GEN_FLT x65 = x60 * x11;
	const GEN_FLT x66 = x65 * x49;
	const GEN_FLT x67 = x66 + x62 + x59 + x64;
	const GEN_FLT x68 = x34 * (1. / (x28 * x28));
	const GEN_FLT x69 = x68 * x27;
	const GEN_FLT x70 = 0.125 * x67;
	const GEN_FLT x71 = x31 * (1. / (x28 * sqrt(x28)));
	const GEN_FLT x72 = x71 * x36 * x24;
	const GEN_FLT x73 = x72 * x19;
	const GEN_FLT x74 = x68 * x26;
	const GEN_FLT x75 = x72 * x12;
	const GEN_FLT x76 = x67 * x32;
	const GEN_FLT x77 = 0.5 * x36;
	const GEN_FLT x78 = x44 * ((-1 * x77 * x76) + (x64 * x35) + (x70 * x75) + (x66 * x35) + (x59 * x35) + (x62 * x35) + (-1 * x67 * x69) + (x70 * x73) + (-1 * x74 * x67));
	const GEN_FLT x79 = 0.25 * x23;
	const GEN_FLT x80 = x79 * x78;
	const GEN_FLT x81 = mu * x11;
	const GEN_FLT x82 = x81 * x32;
	const GEN_FLT x83 = x82 * obj_qj;
	const GEN_FLT x84 = mu * x18;
	const GEN_FLT x85 = x84 * x32;
	const GEN_FLT x86 = x85 * obj_qi;
	const GEN_FLT x87 = 0.5 * x38;
	const GEN_FLT x88 = x87 * x58;
	const GEN_FLT x89 = x42 * x49;
	const GEN_FLT x90 = 0.25 * x38;
	const GEN_FLT x91 = x71 * x90;
	const GEN_FLT x92 = x84 * x91;
	const GEN_FLT x93 = x92 * x23;
	const GEN_FLT x94 = x93 * obj_qi;
	const GEN_FLT x95 = x36 * x38;
	const GEN_FLT x96 = x95 * x33;
	const GEN_FLT x97 = x70 * x96;
	const GEN_FLT x98 = x97 * x23;
	const GEN_FLT x99 = x81 * obj_qj;
	const GEN_FLT x100 = x76 * x90;
	const GEN_FLT x101 = x91 * x23;
	const GEN_FLT x102 = x99 * x101;
	const GEN_FLT x103 = x78 * obj_qi;
	const GEN_FLT x104 = x79 * x103;
	const GEN_FLT x105 = 1.0/2.0 * x36;
	const GEN_FLT x106 = x78 * x105;
	const GEN_FLT x107 = x84 * obj_qi;
	const GEN_FLT x108 = 2 * x7;
	const GEN_FLT x109 = x53 + (-1 * x108) + (-4 * x8);
	const GEN_FLT x110 = x61 * x109;
	const GEN_FLT x111 = 2 * obj_qk * obj_up_z;
	const GEN_FLT x112 = 2 * obj_qj * obj_up_y;
	const GEN_FLT x113 = x112 + x111;
	const GEN_FLT x114 = 2 * x5;
	const GEN_FLT x115 = x57 * ((-1 * x56 * (x114 + (-4 * x0) + x3)) + (((x51 * x109) + (x50 * x113)) * x52));
	const GEN_FLT x116 = x46 * x115;
	const GEN_FLT x117 = x63 * x115;
	const GEN_FLT x118 = x65 * x113;
	const GEN_FLT x119 = x118 + x117 + x110 + x116;
	const GEN_FLT x120 = x23 * x119;
	const GEN_FLT x121 = x87 * x115;
	const GEN_FLT x122 = x68 * x119;
	const GEN_FLT x123 = 0.125 * x73;
	const GEN_FLT x124 = 0.125 * x75;
	const GEN_FLT x125 = x77 * x32;
	const GEN_FLT x126 = (-1 * x119 * x125) + (x35 * x117) + (x35 * x116) + (x119 * x123) + (x119 * x124) + (x35 * x110) + (-1 * x26 * x122) + (-1 * x27 * x122) + (x35 * x118);
	const GEN_FLT x127 = x79 * x44;
	const GEN_FLT x128 = x127 * x126;
	const GEN_FLT x129 = 0.125 * x96;
	const GEN_FLT x130 = x81 * x129;
	const GEN_FLT x131 = x120 * obj_qj;
	const GEN_FLT x132 = x81 * x91;
	const GEN_FLT x133 = x90 * x32;
	const GEN_FLT x134 = x119 * obj_qw;
	const GEN_FLT x135 = x44 * x105;
	const GEN_FLT x136 = x126 * x135;
	const GEN_FLT x137 = x42 * obj_qi;
	const GEN_FLT x138 = x42 * obj_qj;
	const GEN_FLT x139 = x85 * x40;
	const GEN_FLT x140 = -1 * x139;
	const GEN_FLT x141 = (-4 * x9) + x108 + x54;
	const GEN_FLT x142 = x65 * x141;
	const GEN_FLT x143 = 2 * obj_qi * obj_up_x;
	const GEN_FLT x144 = x111 + x143;
	const GEN_FLT x145 = 2 * x14;
	const GEN_FLT x146 = x57 * ((-1 * x56 * (x47 + (-1 * x145) + (-4 * x15))) + (((x51 * x144) + (x50 * x141)) * x52));
	const GEN_FLT x147 = x46 * x146;
	const GEN_FLT x148 = x61 * x144;
	const GEN_FLT x149 = x63 * x146;
	const GEN_FLT x150 = x142 + x149 + x148 + x147;
	const GEN_FLT x151 = (x123 * x150) + (x35 * x149) + (x124 * x150) + (x35 * x147) + (-1 * x74 * x150) + (-1 * x125 * x150) + (x35 * x142) + (x35 * x148) + (-1 * x69 * x150);
	const GEN_FLT x152 = x127 * x151;
	const GEN_FLT x153 = x42 * x144;
	const GEN_FLT x154 = x81 * x41;
	const GEN_FLT x155 = x133 * x150;
	const GEN_FLT x156 = x23 * x150;
	const GEN_FLT x157 = x130 * x156;
	const GEN_FLT x158 = x87 * x146;
	const GEN_FLT x159 = x91 * x156;
	const GEN_FLT x160 = x135 * x151;
	const GEN_FLT x161 = x129 * x156;
	const GEN_FLT x162 = x1 + (-1 * x114) + (-4 * x2);
	const GEN_FLT x163 = (-4 * x16) + x145 + x48;
	const GEN_FLT x164 = x57 * ((-1 * (x143 + x112) * x56) + (((x51 * x163) + (x50 * x162)) * x52));
	const GEN_FLT x165 = x46 * x164;
	const GEN_FLT x166 = x61 * x163;
	const GEN_FLT x167 = x63 * x164;
	const GEN_FLT x168 = x65 * x162;
	const GEN_FLT x169 = x168 + x167 + x165 + x166;
	const GEN_FLT x170 = 0.125 * x169;
	const GEN_FLT x171 = (-1 * x125 * x169) + (x35 * x166) + (x35 * x167) + (-1 * x74 * x169) + (x35 * x168) + (-1 * x69 * x169) + (x35 * x165) + (x75 * x170) + (x73 * x170);
	const GEN_FLT x172 = x127 * x171;
	const GEN_FLT x173 = x82 * x172;
	const GEN_FLT x174 = x87 * x164;
	const GEN_FLT x175 = x42 * x162;
	const GEN_FLT x176 = x96 * x170;
	const GEN_FLT x177 = x23 * x176;
	const GEN_FLT x178 = x169 * x133;
	const GEN_FLT x179 = x171 * x135;
	const GEN_FLT x180 = x93 * x169;
	const GEN_FLT x181 = x93 * obj_qw;
	const GEN_FLT x182 = x82 * obj_qk;
	const GEN_FLT x183 = x23 * obj_qk;
	const GEN_FLT x184 = x81 * x183;
	const GEN_FLT x185 = x91 * x184;
	const GEN_FLT x186 = x85 * obj_qw;
	const GEN_FLT x187 = x98 * obj_qw;
	const GEN_FLT x188 = x42 * obj_qw;
	const GEN_FLT x189 = x42 * obj_qk;
	const GEN_FLT x190 = x120 * obj_qk;
	const GEN_FLT x191 = x119 * x133;
	const GEN_FLT x192 = x23 * x134;
	const GEN_FLT x193 = x84 * x129;
	const GEN_FLT x194 = x84 * x161;
	const GEN_FLT x195 = -1 * x154;
	const GEN_FLT x196 = x85 * obj_qk;
	const GEN_FLT x197 = x84 * x183;
	const GEN_FLT x198 = x81 * obj_qw;
	const GEN_FLT x199 = x67 * x101;
	const GEN_FLT x200 = x82 * obj_qw;
	const GEN_FLT x201 = x92 * x183;
	const GEN_FLT x202 = x101 * x169;
	const GEN_FLT x203 = x85 * obj_qj;
	const GEN_FLT x204 = x81 * obj_qi;
	const GEN_FLT x205 = x32 * x204;
	const GEN_FLT x206 = x93 * obj_qj;
	const GEN_FLT x207 = x84 * obj_qj;
	const GEN_FLT x208 = x204 * x120;
	const GEN_FLT x209 = x135 * obj_qk;
	out[0] = (-1 * x98 * x107) + (x83 * x88) + (-1 * x88 * x86) + (x89 * obj_qj) + (-1 * x43 * obj_qi) + (x99 * x98) + (-1 * x106 * obj_qw) + (x67 * x94) + x95 + (-1 * x100 * obj_qw) + (x85 * x104) + (-1 * x80 * x83) + (-1 * x67 * x102);
	out[1] = x140 + (x113 * x138) + (x86 * x128) + (-1 * x83 * x128) + (-1 * x107 * x120 * x129) + (-1 * x133 * x134) + (x92 * x120 * obj_qi) + (x130 * x131) + (x83 * x121) + (-1 * x109 * x137) + (-1 * x86 * x121) + (-1 * x131 * x132) + (-1 * x136 * obj_qw);
	out[2] = (x94 * x150) + (x83 * x158) + (x138 * x141) + (-1 * x155 * obj_qw) + (-1 * x107 * x161) + (x86 * x152) + (x157 * obj_qj) + x154 + (-1 * x153 * obj_qi) + (-1 * x86 * x158) + (-1 * x160 * obj_qw) + (-1 * x83 * x152) + (-1 * x99 * x159);
	out[3] = (-1 * x163 * x137) + (-1 * x102 * x169) + (x175 * obj_qj) + (x86 * x172) + (x180 * obj_qi) + (x83 * x174) + (x99 * x177) + (-1 * x173 * obj_qj) + (-1 * x179 * obj_qw) + (-1 * x107 * x177) + (-1 * x178 * obj_qw) + (-1 * x86 * x174);
	out[4] = 0;
	out[5] = 0;
	out[6] = 0;
	out[7] = (x43 * obj_qw) + (-1 * x100 * obj_qi) + (-1 * x80 * x186) + x139 + (x88 * x186) + (x67 * x185) + (x80 * x182) + (x84 * x187) + (-1 * x88 * x182) + (-1 * x67 * x181) + (-1 * x89 * obj_qk) + (-1 * x103 * x105) + (-1 * x97 * x184);
	out[8] = (x192 * x193) + (-1 * x136 * obj_qi) + (-1 * x190 * x130) + (-1 * x93 * x134) + (-1 * x128 * x186) + (x190 * x132) + (x109 * x188) + (x121 * x186) + (x128 * x182) + (-1 * x113 * x189) + x95 + (-1 * x191 * obj_qi) + (-1 * x121 * x182);
	out[9] = (x185 * x150) + (x182 * x152) + (-1 * x183 * x130 * x150) + (x186 * x158) + (-1 * x182 * x158) + (-1 * x186 * x152) + (-1 * x181 * x150) + (-1 * x155 * obj_qi) + (-1 * x189 * x141) + (-1 * x160 * obj_qi) + (x153 * obj_qw) + (x194 * obj_qw);
	out[10] = (-1 * x179 * obj_qi) + (x174 * x186) + x195 + (x84 * x177 * obj_qw) + (-1 * x175 * obj_qk) + (x169 * x185) + (-1 * x172 * x186) + (x172 * x182) + (-1 * x176 * x184) + (-1 * x178 * obj_qi) + (x163 * x188) + (-1 * x174 * x182) + (-1 * x180 * obj_qw);
	out[11] = 0;
	out[12] = 0;
	out[13] = 0;
	out[14] = (x67 * x201) + (x198 * x199) + (-1 * x81 * x187) + (-1 * x97 * x197) + (x80 * x196) + (-1 * x88 * x200) + (-1 * x106 * obj_qj) + (-1 * x88 * x196) + (x80 * x200) + (-1 * x89 * obj_qw) + (-1 * x43 * obj_qk) + x195 + (-1 * x100 * obj_qj);
	out[15] = (-1 * x136 * obj_qj) + (x192 * x132) + (-1 * x191 * obj_qj) + (-1 * x113 * x188) + (x128 * x196) + (-1 * x200 * x121) + (-1 * x109 * x189) + (x200 * x128) + (-1 * x192 * x130) + (-1 * x121 * x196) + (x92 * x190) + (-1 * x190 * x193);
	out[16] = (-1 * x160 * obj_qj) + (-1 * x196 * x158) + (-1 * x188 * x141) + (-1 * x153 * obj_qk) + (x200 * x152) + (x196 * x152) + x95 + (-1 * x129 * x197 * x150) + (x198 * x159) + (x201 * x150) + (-1 * x157 * obj_qw) + (-1 * x200 * x158) + (-1 * x155 * obj_qj);
	out[17] = (-1 * x163 * x189) + (-1 * x179 * obj_qj) + (x201 * x169) + (-1 * x177 * x198) + (-1 * x175 * obj_qw) + (-1 * x176 * x197) + (x202 * x198) + (-1 * x174 * x196) + (-1 * x178 * obj_qj) + x140 + (-1 * x200 * x174) + (x173 * obj_qw) + (x172 * x196);
	out[18] = 0;
	out[19] = 0;
	out[20] = 0;
	out[21] = (x89 * obj_qi) + (x43 * obj_qj) + (-1 * x67 * x206) + (-1 * x80 * x203) + (-1 * x100 * obj_qk) + (x88 * x205) + (-1 * x204 * x199) + (-1 * x106 * obj_qk) + (x98 * x204) + (-1 * x82 * x104) + (x98 * x207) + (x88 * x203);
	out[22] = (-1 * x191 * obj_qk) + (x113 * x137) + (-1 * x205 * x128) + (-1 * x91 * x208) + x154 + (x203 * x121) + (x109 * x138) + (-1 * x203 * x128) + (x193 * x131) + (-1 * x92 * x131) + (-1 * x136 * obj_qk) + (x205 * x121) + (x208 * x129);
	out[23] = x139 + (-1 * x203 * x152) + (-1 * x205 * x152) + (x138 * x144) + (-1 * x209 * x151) + (-1 * x206 * x150) + (x204 * x161) + (x194 * obj_qj) + (x205 * x158) + (-1 * x204 * x159) + (x137 * x141) + (x203 * x158) + (-1 * x155 * obj_qk);
	out[24] = (-1 * x180 * obj_qj) + (x175 * obj_qi) + (-1 * x202 * x204) + (x203 * x174) + (-1 * x209 * x171) + (x204 * x177) + (-1 * x203 * x172) + (-1 * x178 * obj_qk) + x95 + (-1 * x205 * x172) + (x163 * x138) + (x205 * x174) + (x207 * x177);
	out[25] = 0;
	out[26] = 0;
	out[27] = 0;
	out[28] = 0;
	out[29] = 0;
	out[30] = 0;
	out[31] = 0;
	out[32] = 1;
	out[33] = 0;
	out[34] = 0;
	out[35] = 0;
	out[36] = 0;
	out[37] = 0;
	out[38] = 0;
	out[39] = 0;
	out[40] = 1;
	out[41] = 0;
	out[42] = 0;
	out[43] = 0;
	out[44] = 0;
	out[45] = 0;
	out[46] = 0;
	out[47] = 0;
	out[48] = 1;
}

// Jacobian of imu_correct_up wrt [obj_up_x, obj_up_y, obj_up_z]
static inline void gen_imu_correct_up_jac_up_in_obj(FLT* out, const FLT mu, const FLT* imu_rot, const FLT* up_in_obj) {
	const GEN_FLT obj_qw = imu_rot[0];
	const GEN_FLT obj_qi = imu_rot[1];
	const GEN_FLT obj_qj = imu_rot[2];
	const GEN_FLT obj_qk = imu_rot[3];
	const GEN_FLT aa_x = imu_rot[4];
	const GEN_FLT aa_y = imu_rot[5];
	const GEN_FLT aa_z = imu_rot[6];
	const GEN_FLT obj_up_x = up_in_obj[0];
	const GEN_FLT obj_up_y = up_in_obj[1];
	const GEN_FLT obj_up_z = up_in_obj[2];
	const GEN_FLT x0 = (-1 * obj_qi * obj_up_z) + (obj_qw * obj_up_y) + (obj_qk * obj_up_x);
	const GEN_FLT x1 = (-1 * obj_qj * obj_up_x) + (obj_qw * obj_up_z) + (obj_qi * obj_up_y);
	const GEN_FLT x2 = obj_up_x + (2 * ((x1 * obj_qj) + (-1 * x0 * obj_qk)));
	const GEN_FLT x3 = x2 * x2;
	const GEN_FLT x4 = mu * mu;
	const GEN_FLT x5 = (-1 * obj_qk * obj_up_y) + (obj_qw * obj_up_x) + (obj_qj * obj_up_z);
	const GEN_FLT x6 = obj_up_y + (2 * ((x5 * obj_qk) + (-1 * x1 * obj_qi)));
	const GEN_FLT x7 = x6 * x6;
	const GEN_FLT x8 = x3 + x7;
	const GEN_FLT x9 = sqrt(x8);
	const GEN_FLT x10 = obj_up_z + (2 * ((x0 * obj_qi) + (-1 * x5 * obj_qj)));
	const GEN_FLT x11 = atan2(x9, x10);
	const GEN_FLT x12 = x4 * (x11 * x11);
	const GEN_FLT x13 = 0.25 * x12;
	const GEN_FLT x14 = x3 * x13;
	const GEN_FLT x15 = x7 * x13;
	const GEN_FLT x16 = 1e-10 + x15 + x14;
	const GEN_FLT x17 = 1. / x16;
	const GEN_FLT x18 = sqrt(x16);
	const GEN_FLT x19 = 0.5 * x18;
	const GEN_FLT x20 = sin(x19);
	const GEN_FLT x21 = x20 * x20;
	const GEN_FLT x22 = x21 * x17;
	const GEN_FLT x23 = cos(x19);
	const GEN_FLT x24 = 1e-11 + (x22 * x15) + (x22 * x14) + (x23 * x23);
	const GEN_FLT x25 = 1. / (x24 * sqrt(x24));
	const GEN_FLT x26 = x25 * obj_qi;
	const GEN_FLT x27 = -2 * (obj_qk * obj_qk);
	const GEN_FLT x28 = 1 + (-2 * (obj_qj * obj_qj));
	const GEN_FLT x29 = x28 + x27;
	const GEN_FLT x30 = 2 * x2;
	const GEN_FLT x31 = 2 * obj_qi;
	const GEN_FLT x32 = x31 * obj_qj;
	const GEN_FLT x33 = 2 * obj_qw;
	const GEN_FLT x34 = x33 * obj_qk;
	const GEN_FLT x35 = x34 + x32;
	const GEN_FLT x36 = 2 * x6;
	const GEN_FLT x37 = 1.0/2.0 * (1. / x9) * (1. / x10);
	const GEN_FLT x38 = x33 * obj_qj;
	const GEN_FLT x39 = x31 * obj_qk;
	const GEN_FLT x40 = x10 * x10;
	const GEN_FLT x41 = x9 * (1. / x40);
	const GEN_FLT x42 = x40 * (1. / (x8 + x40));
	const GEN_FLT x43 = x42 * ((-1 * (x39 + (-1 * x38)) * x41) + (((x36 * x35) + (x30 * x29)) * x37));
	const GEN_FLT x44 = 0.5 * x4 * x11;
	const GEN_FLT x45 = x43 * x44;
	const GEN_FLT x46 = x7 * x45;
	const GEN_FLT x47 = 0.5 * x12;
	const GEN_FLT x48 = x6 * x47;
	const GEN_FLT x49 = x48 * x35;
	const GEN_FLT x50 = x3 * x45;
	const GEN_FLT x51 = x2 * x47;
	const GEN_FLT x52 = x51 * x29;
	const GEN_FLT x53 = x50 + x52 + x46 + x49;
	const GEN_FLT x54 = x21 * (1. / (x16 * x16));
	const GEN_FLT x55 = x54 * x15;
	const GEN_FLT x56 = x53 * x23;
	const GEN_FLT x57 = 0.125 * x56;
	const GEN_FLT x58 = x20 * (1. / (x16 * sqrt(x16)));
	const GEN_FLT x59 = x58 * x12;
	const GEN_FLT x60 = x57 * x59;
	const GEN_FLT x61 = x54 * x14;
	const GEN_FLT x62 = x20 * (1. / x18);
	const GEN_FLT x63 = 0.5 * x62;
	const GEN_FLT x64 = (x52 * x22) + (x3 * x60) + (-1 * x53 * x55) + (x50 * x22) + (x49 * x22) + (x46 * x22) + (x7 * x60) + (-1 * x61 * x53) + (-1 * x63 * x56);
	const GEN_FLT x65 = 0.25 * x62;
	const GEN_FLT x66 = mu * x11;
	const GEN_FLT x67 = x6 * x66;
	const GEN_FLT x68 = x67 * x65;
	const GEN_FLT x69 = x64 * x68;
	const GEN_FLT x70 = x25 * obj_qj;
	const GEN_FLT x71 = x2 * x66;
	const GEN_FLT x72 = x71 * x65;
	const GEN_FLT x73 = x72 * x64;
	const GEN_FLT x74 = 1. / sqrt(x24);
	const GEN_FLT x75 = x63 * x66;
	const GEN_FLT x76 = x75 * x74;
	const GEN_FLT x77 = x76 * obj_qi;
	const GEN_FLT x78 = x74 * obj_qj;
	const GEN_FLT x79 = x57 * x17;
	const GEN_FLT x80 = x79 * x78;
	const GEN_FLT x81 = mu * x63;
	const GEN_FLT x82 = x81 * x43;
	const GEN_FLT x83 = x2 * x82;
	const GEN_FLT x84 = x74 * obj_qi;
	const GEN_FLT x85 = x6 * x82;
	const GEN_FLT x86 = 0.25 * x58;
	const GEN_FLT x87 = x86 * x71;
	const GEN_FLT x88 = x78 * x53;
	const GEN_FLT x89 = x74 * x65;
	const GEN_FLT x90 = x89 * x53;
	const GEN_FLT x91 = x78 * x75;
	const GEN_FLT x92 = x25 * obj_qw;
	const GEN_FLT x93 = 1.0/2.0 * x23;
	const GEN_FLT x94 = x64 * x93;
	const GEN_FLT x95 = x79 * x67;
	const GEN_FLT x96 = x86 * x67;
	const GEN_FLT x97 = x53 * x96;
	const GEN_FLT x98 = x32 + (-1 * x34);
	const GEN_FLT x99 = -2 * (obj_qi * obj_qi);
	const GEN_FLT x100 = 1 + x27 + x99;
	const GEN_FLT x101 = 2 * obj_qk * obj_qj;
	const GEN_FLT x102 = x31 * obj_qw;
	const GEN_FLT x103 = (-1 * (x102 + x101) * x41) + (x37 * ((x36 * x100) + (x98 * x30)));
	const GEN_FLT x104 = x42 * x44;
	const GEN_FLT x105 = x7 * x104;
	const GEN_FLT x106 = x103 * x105;
	const GEN_FLT x107 = x48 * x100;
	const GEN_FLT x108 = x3 * x104;
	const GEN_FLT x109 = x103 * x108;
	const GEN_FLT x110 = x51 * x98;
	const GEN_FLT x111 = x110 + x109 + x107 + x106;
	const GEN_FLT x112 = 0.125 * x23;
	const GEN_FLT x113 = x59 * x112;
	const GEN_FLT x114 = x111 * x113;
	const GEN_FLT x115 = x63 * x23;
	const GEN_FLT x116 = (-1 * x111 * x115) + (x22 * x107) + (-1 * x55 * x111) + (x3 * x114) + (x22 * x106) + (x22 * x110) + (x7 * x114) + (x22 * x109) + (-1 * x61 * x111);
	const GEN_FLT x117 = x70 * x116;
	const GEN_FLT x118 = x68 * x116;
	const GEN_FLT x119 = x81 * x42;
	const GEN_FLT x120 = x2 * x119;
	const GEN_FLT x121 = x103 * x120;
	const GEN_FLT x122 = x78 * x111;
	const GEN_FLT x123 = x17 * x112;
	const GEN_FLT x124 = x71 * x123;
	const GEN_FLT x125 = x6 * x119;
	const GEN_FLT x126 = x103 * x125;
	const GEN_FLT x127 = x89 * x111;
	const GEN_FLT x128 = x93 * x116;
	const GEN_FLT x129 = x86 * x111;
	const GEN_FLT x130 = x67 * x129;
	const GEN_FLT x131 = x84 * x123;
	const GEN_FLT x132 = x111 * x131;
	const GEN_FLT x133 = x101 + (-1 * x102);
	const GEN_FLT x134 = x48 * x133;
	const GEN_FLT x135 = x38 + x39;
	const GEN_FLT x136 = (-1 * (x28 + x99) * x41) + (((x36 * x133) + (x30 * x135)) * x37);
	const GEN_FLT x137 = x105 * x136;
	const GEN_FLT x138 = x108 * x136;
	const GEN_FLT x139 = x51 * x135;
	const GEN_FLT x140 = x139 + x138 + x134 + x137;
	const GEN_FLT x141 = x113 * x140;
	const GEN_FLT x142 = (x3 * x141) + (-1 * x61 * x140) + (-1 * x115 * x140) + (x7 * x141) + (x22 * x138) + (-1 * x55 * x140) + (x22 * x137) + (x22 * x139) + (x22 * x134);
	const GEN_FLT x143 = x68 * x142;
	const GEN_FLT x144 = x72 * x142;
	const GEN_FLT x145 = x71 * x140;
	const GEN_FLT x146 = x86 * x145;
	const GEN_FLT x147 = x120 * x136;
	const GEN_FLT x148 = x89 * x140;
	const GEN_FLT x149 = x123 * x145;
	const GEN_FLT x150 = x93 * x142;
	const GEN_FLT x151 = x125 * x136;
	const GEN_FLT x152 = x96 * x140;
	const GEN_FLT x153 = x25 * obj_qk;
	const GEN_FLT x154 = x76 * obj_qk;
	const GEN_FLT x155 = x76 * obj_qw;
	const GEN_FLT x156 = x74 * obj_qk;
	const GEN_FLT x157 = x53 * x156;
	const GEN_FLT x158 = x71 * x156;
	const GEN_FLT x159 = x74 * obj_qw;
	const GEN_FLT x160 = x92 * x116;
	const GEN_FLT x161 = x72 * x116;
	const GEN_FLT x162 = x25 * x128;
	const GEN_FLT x163 = x67 * x123;
	const GEN_FLT x164 = x111 * x159;
	const GEN_FLT x165 = x142 * x153;
	const GEN_FLT x166 = x163 * x140;
	const GEN_FLT x167 = x78 * x65;
	const GEN_FLT x168 = x84 * x71;
	out[0] = (x84 * x97) + (x69 * x26) + (-1 * x77 * x35) + (-1 * x84 * x85) + (-1 * x88 * x87) + (-1 * x90 * obj_qw) + (x80 * x71) + (-1 * x70 * x73) + (x83 * x78) + (x91 * x29) + (-1 * x92 * x94) + (-1 * x84 * x95);
	out[1] = (-1 * x67 * x132) + (x124 * x122) + (x91 * x98) + (-1 * x72 * x117) + (-1 * x77 * x100) + (-1 * x87 * x122) + (-1 * x84 * x126) + (-1 * x127 * obj_qw) + (x78 * x121) + (x26 * x118) + (-1 * x92 * x128) + (x84 * x130);
	out[2] = (-1 * x77 * x133) + (-1 * x78 * x146) + (x78 * x147) + (-1 * x148 * obj_qw) + (-1 * x84 * x151) + (-1 * x67 * x131 * x140) + (-1 * x70 * x144) + (x91 * x135) + (x26 * x143) + (x78 * x149) + (-1 * x92 * x150) + (x84 * x152);
	out[3] = (-1 * x97 * x159) + (-1 * x90 * obj_qi) + (x87 * x157) + (x73 * x153) + (-1 * x29 * x154) + (-1 * x94 * x26) + (x35 * x155) + (-1 * x69 * x92) + (-1 * x79 * x158) + (x95 * x159) + (x85 * x159) + (-1 * x83 * x156);
	out[4] = (x126 * x159) + (x129 * x158) + (-1 * x98 * x154) + (-1 * x68 * x160) + (x161 * x153) + (x164 * x163) + (-1 * x162 * obj_qi) + (-1 * x111 * x123 * x158) + (x100 * x155) + (-1 * x121 * x156) + (-1 * x127 * obj_qi) + (-1 * x96 * x164);
	out[5] = (x166 * x159) + (-1 * x149 * x156) + (x146 * x156) + (x133 * x155) + (-1 * x92 * x143) + (-1 * x135 * x154) + (-1 * x147 * x156) + (x151 * x159) + (-1 * x152 * x159) + (x72 * x165) + (-1 * x148 * obj_qi) + (-1 * x26 * x150);
	out[6] = (-1 * x29 * x155) + (-1 * x71 * x79 * x159) + (-1 * x35 * x154) + (-1 * x53 * x167) + (-1 * x85 * x156) + (x69 * x153) + (x73 * x92) + (-1 * x70 * x94) + (-1 * x83 * x159) + (x87 * x53 * x159) + (x96 * x157) + (-1 * x95 * x156);
	out[7] = (x87 * x164) + (-1 * x126 * x156) + (x72 * x160) + (-1 * x111 * x163 * x156) + (-1 * x121 * x159) + (x118 * x153) + (-1 * x98 * x155) + (x130 * x156) + (-1 * x124 * x164) + (-1 * x65 * x122) + (-1 * x162 * obj_qj) + (-1 * x100 * x154);
	out[8] = (-1 * x151 * x156) + (-1 * x135 * x155) + (-1 * x70 * x150) + (-1 * x166 * x156) + (x146 * x159) + (x92 * x144) + (-1 * x149 * x159) + (-1 * x133 * x154) + (-1 * x167 * x140) + (x68 * x165) + (-1 * x147 * x159) + (x152 * x156);
	out[9] = (x80 * x67) + (x77 * x29) + (x79 * x168) + (-1 * x86 * x53 * x168) + (x85 * x78) + (-1 * x70 * x69) + (-1 * x73 * x26) + (x91 * x35) + (-1 * x90 * obj_qk) + (-1 * x88 * x96) + (x83 * x84) + (-1 * x94 * x153);
	out[10] = (x78 * x126) + (x84 * x121) + (x77 * x98) + (-1 * x68 * x117) + (x71 * x132) + (-1 * x127 * obj_qk) + (-1 * x129 * x168) + (x91 * x100) + (-1 * x128 * x153) + (x122 * x163) + (-1 * x26 * x161) + (-1 * x96 * x122);
	out[11] = (x77 * x135) + (x131 * x145) + (x91 * x133) + (-1 * x70 * x143) + (-1 * x26 * x144) + (-1 * x78 * x152) + (-1 * x148 * obj_qk) + (x78 * x166) + (x84 * x147) + (-1 * x84 * x146) + (x78 * x151) + (-1 * x93 * x165);
	out[12] = 0;
	out[13] = 0;
	out[14] = 0;
	out[15] = 0;
	out[16] = 0;
	out[17] = 0;
	out[18] = 0;
	out[19] = 0;
	out[20] = 0;
}

static inline void gen_imu_predict_up(FLT* out, const SurviveKalmanModel* kalman_model) {
	const GEN_FLT obj_px = (*kalman_model).Pose.Pos[0];
	const GEN_FLT obj_py = (*kalman_model).Pose.Pos[1];
	const GEN_FLT obj_pz = (*kalman_model).Pose.Pos[2];
	const GEN_FLT obj_qw = (*kalman_model).Pose.Rot[0];
	const GEN_FLT obj_qi = (*kalman_model).Pose.Rot[1];
	const GEN_FLT obj_qj = (*kalman_model).Pose.Rot[2];
	const GEN_FLT obj_qk = (*kalman_model).Pose.Rot[3];
	const GEN_FLT vx = (*kalman_model).Velocity.Pos[0];
	const GEN_FLT vy = (*kalman_model).Velocity.Pos[1];
	const GEN_FLT vz = (*kalman_model).Velocity.Pos[2];
	const GEN_FLT avx = (*kalman_model).Velocity.AxisAngleRot[0];
	const GEN_FLT avy = (*kalman_model).Velocity.AxisAngleRot[1];
	const GEN_FLT avz = (*kalman_model).Velocity.AxisAngleRot[2];
	const GEN_FLT acc_x = (*kalman_model).Acc[0];
	const GEN_FLT acc_y = (*kalman_model).Acc[1];
	const GEN_FLT acc_z = (*kalman_model).Acc[2];
	const GEN_FLT acc_biasx = (*kalman_model).AccBias[0];
	const GEN_FLT acc_biasy = (*kalman_model).AccBias[1];
	const GEN_FLT acc_biasz = (*kalman_model).AccBias[2];
	const GEN_FLT gbx = (*kalman_model).GyroBias[0];
	const GEN_FLT gby = (*kalman_model).GyroBias[1];
	const GEN_FLT gbz = (*kalman_model).GyroBias[2];
	const GEN_FLT x0 = 0.101971621297793 * acc_x;
	const GEN_FLT x1 = 0.101971621297793 * acc_y;
	const GEN_FLT x2 = 1. / sqrt(1e-11 + (obj_qw * obj_qw) + (obj_qi * obj_qi) + (obj_qj * obj_qj) + (obj_qk * obj_qk));
	const GEN_FLT x3 = x2 * obj_qw;
	const GEN_FLT x4 = x2 * obj_qk;
	const GEN_FLT x5 = 1 + (0.101971621297793 * acc_z);
	const GEN_FLT x6 = x2 * obj_qi;
	const GEN_FLT x7 = (x6 * x5) + (x1 * x3) + (-1 * x0 * x4);
	const GEN_FLT x8 = x2 * obj_qj;
	const GEN_FLT x9 = (x3 * x5) + (x0 * x8) + (-1 * x1 * x6);
	const GEN_FLT x10 = (x1 * x4) + (x0 * x3) + (-1 * x5 * x8);
	out[0] = (2 * ((-1 * x8 * x9) + (x4 * x7))) + acc_biasx + x0;
	out[1] = (2 * ((-1 * x4 * x10) + (x6 * x9))) + acc_biasy + x1;
	out[2] = acc_biasz + x5 + (2 * ((-1 * x6 * x7) + (x8 * x10)));
}

// Jacobian of imu_predict_up wrt [obj_px, obj_py, obj_pz, obj_qw, obj_qi, obj_qj, obj_qk, vx, vy, vz, avx, avy, avz, acc_x, acc_y, acc_z, acc_biasx, acc_biasy, acc_biasz, gbx, gby, gbz]
static inline void gen_imu_predict_up_jac_kalman_model(FLT* out, const SurviveKalmanModel* kalman_model) {
	const GEN_FLT obj_px = (*kalman_model).Pose.Pos[0];
	const GEN_FLT obj_py = (*kalman_model).Pose.Pos[1];
	const GEN_FLT obj_pz = (*kalman_model).Pose.Pos[2];
	const GEN_FLT obj_qw = (*kalman_model).Pose.Rot[0];
	const GEN_FLT obj_qi = (*kalman_model).Pose.Rot[1];
	const GEN_FLT obj_qj = (*kalman_model).Pose.Rot[2];
	const GEN_FLT obj_qk = (*kalman_model).Pose.Rot[3];
	const GEN_FLT vx = (*kalman_model).Velocity.Pos[0];
	const GEN_FLT vy = (*kalman_model).Velocity.Pos[1];
	const GEN_FLT vz = (*kalman_model).Velocity.Pos[2];
	const GEN_FLT avx = (*kalman_model).Velocity.AxisAngleRot[0];
	const GEN_FLT avy = (*kalman_model).Velocity.AxisAngleRot[1];
	const GEN_FLT avz = (*kalman_model).Velocity.AxisAngleRot[2];
	const GEN_FLT acc_x = (*kalman_model).Acc[0];
	const GEN_FLT acc_y = (*kalman_model).Acc[1];
	const GEN_FLT acc_z = (*kalman_model).Acc[2];
	const GEN_FLT acc_biasx = (*kalman_model).AccBias[0];
	const GEN_FLT acc_biasy = (*kalman_model).AccBias[1];
	const GEN_FLT acc_biasz = (*kalman_model).AccBias[2];
	const GEN_FLT gbx = (*kalman_model).GyroBias[0];
	const GEN_FLT gby = (*kalman_model).GyroBias[1];
	const GEN_FLT gbz = (*kalman_model).GyroBias[2];
	const GEN_FLT x0 = obj_qw * obj_qw;
	const GEN_FLT x1 = obj_qk * obj_qk;
	const GEN_FLT x2 = obj_qj * obj_qj;
	const GEN_FLT x3 = obj_qi * obj_qi;
	const GEN_FLT x4 = 1e-11 + x2 + x3 + x0 + x1;
	const GEN_FLT x5 = 1. / sqrt(x4);
	const GEN_FLT x6 = 0.101971621297793 * x5;
	const GEN_FLT x7 = x6 * acc_y;
	const GEN_FLT x8 = x6 * acc_x;
	const GEN_FLT x9 = 1 + (0.101971621297793 * acc_z);
	const GEN_FLT x10 = x5 * x9;
	const GEN_FLT x11 = (x7 * obj_qw) + (x10 * obj_qi) + (-1 * x8 * obj_qk);
	const GEN_FLT x12 = 1. / (x4 * sqrt(x4));
	const GEN_FLT x13 = 2 * x12;
	const GEN_FLT x14 = x13 * x11;
	const GEN_FLT x15 = x14 * obj_qk;
	const GEN_FLT x16 = x9 * x12;
	const GEN_FLT x17 = x16 * obj_qw;
	const GEN_FLT x18 = -1 * x17 * obj_qi;
	const GEN_FLT x19 = 0.101971621297793 * x12;
	const GEN_FLT x20 = x19 * acc_x;
	const GEN_FLT x21 = x20 * obj_qk;
	const GEN_FLT x22 = x21 * obj_qw;
	const GEN_FLT x23 = x19 * acc_y;
	const GEN_FLT x24 = (-1 * x0 * x23) + x7 + x18 + x22;
	const GEN_FLT x25 = 2 * x5;
	const GEN_FLT x26 = x25 * obj_qk;
	const GEN_FLT x27 = (x8 * obj_qj) + (x10 * obj_qw) + (-1 * x7 * obj_qi);
	const GEN_FLT x28 = x27 * x13;
	const GEN_FLT x29 = obj_qw * obj_qj;
	const GEN_FLT x30 = obj_qw * obj_qi;
	const GEN_FLT x31 = x30 * x23;
	const GEN_FLT x32 = -1 * x20 * x29;
	const GEN_FLT x33 = x25 * (x10 + x31 + x32 + (-1 * x0 * x16));
	const GEN_FLT x34 = x15 * obj_qi;
	const GEN_FLT x35 = obj_qj * obj_qi;
	const GEN_FLT x36 = x35 * x28;
	const GEN_FLT x37 = (-1 * x31) + (x21 * obj_qi) + x10 + (-1 * x3 * x16);
	const GEN_FLT x38 = (x3 * x23) + x18 + (-1 * x7) + (-1 * x35 * x20);
	const GEN_FLT x39 = x25 * obj_qj;
	const GEN_FLT x40 = x35 * x16;
	const GEN_FLT x41 = x21 * obj_qj;
	const GEN_FLT x42 = (-1 * x40) + x41 + (-1 * x23 * x29);
	const GEN_FLT x43 = x17 * obj_qj;
	const GEN_FLT x44 = (x35 * x23) + x8 + (-1 * x43) + (-1 * x2 * x20);
	const GEN_FLT x45 = x25 * x27;
	const GEN_FLT x46 = x25 * x11;
	const GEN_FLT x47 = x23 * obj_qk;
	const GEN_FLT x48 = x47 * obj_qi;
	const GEN_FLT x49 = x48 + (-1 * x17 * obj_qk) + (-1 * x41);
	const GEN_FLT x50 = x28 * obj_qk;
	const GEN_FLT x51 = x16 * obj_qk;
	const GEN_FLT x52 = -1 * x47 * obj_qw;
	const GEN_FLT x53 = x25 * ((x1 * x20) + x52 + (-1 * x51 * obj_qi) + (-1 * x8));
	const GEN_FLT x54 = 0.203943242595586 * (1. / x4);
	const GEN_FLT x55 = -1 * x1 * x54;
	const GEN_FLT x56 = 0.101971621297793 + (-1 * x2 * x54);
	const GEN_FLT x57 = x54 * obj_qw;
	const GEN_FLT x58 = x57 * obj_qk;
	const GEN_FLT x59 = x54 * x35;
	const GEN_FLT x60 = x54 * obj_qk;
	const GEN_FLT x61 = x60 * obj_qi;
	const GEN_FLT x62 = x57 * obj_qj;
	const GEN_FLT x63 = (x7 * obj_qk) + (x8 * obj_qw) + (-1 * x10 * obj_qj);
	const GEN_FLT x64 = x63 * x13;
	const GEN_FLT x65 = x64 * obj_qk;
	const GEN_FLT x66 = x8 + (-1 * x0 * x20) + x52 + x43;
	const GEN_FLT x67 = x25 * obj_qi;
	const GEN_FLT x68 = x25 * (x40 + (-1 * x48) + (-1 * x30 * x20));
	const GEN_FLT x69 = (x2 * x16) + x32 + (-1 * x47 * obj_qj) + (-1 * x10);
	const GEN_FLT x70 = x65 * obj_qj;
	const GEN_FLT x71 = x63 * x25;
	const GEN_FLT x72 = x25 * ((x51 * obj_qj) + (-1 * x22) + x7 + (-1 * x1 * x23));
	const GEN_FLT x73 = -1 * x3 * x54;
	const GEN_FLT x74 = x57 * obj_qi;
	const GEN_FLT x75 = x60 * obj_qj;
	out[0] = 0;
	out[1] = 0;
	out[2] = 0;
	out[3] = (-1 * x33 * obj_qj) + (x28 * x29) + (-1 * x15 * obj_qw) + (x24 * x26);
	out[4] = (x37 * x26) + (-1 * x38 * x39) + (-1 * x34) + x36;
	out[5] = (-1 * x45) + (-1 * x44 * x39) + (x42 * x26) + (-1 * x15 * obj_qj) + (x2 * x28);
	out[6] = (x50 * obj_qj) + (x53 * obj_qk) + (-1 * x49 * x39) + x46 + (-1 * x1 * x14);
	out[7] = 0;
	out[8] = 0;
	out[9] = 0;
	out[10] = 0;
	out[11] = 0;
	out[12] = 0;
	out[13] = x56 + x55;
	out[14] = x59 + x58;
	out[15] = (-1 * x62) + x61;
	out[16] = 1;
	out[17] = 0;
	out[18] = 0;
	out[19] = 0;
	out[20] = 0;
	out[21] = 0;
	out[22] = 0;
	out[23] = 0;
	out[24] = 0;
	out[25] = (-1 * x66 * x26) + (x33 * obj_qi) + (-1 * x30 * x28) + (x65 * obj_qw);
	out[26] = (x65 * obj_qi) + (-1 * x68 * obj_qk) + (-1 * x3 * x28) + x45 + (x67 * x38);
	out[27] = x70 + (-1 * x36) + (-1 * x69 * x26) + (x67 * x44);
	out[28] = (-1 * x72 * obj_qk) + (x1 * x64) + (-1 * x71) + (-1 * x50 * obj_qi) + (x67 * x49);
	out[29] = 0;
	out[30] = 0;
	out[31] = 0;
	out[32] = 0;
	out[33] = 0;
	out[34] = 0;
	out[35] = (-1 * x58) + x59;
	out[36] = 0.101971621297793 + x55 + x73;
	out[37] = x75 + x74;
	out[38] = 0;
	out[39] = 1;
	out[40] = 0;
	out[41] = 0;
	out[42] = 0;
	out[43] = 0;
	out[44] = 0;
	out[45] = 0;
	out[46] = 0;
	out[47] = (-1 * x67 * x24) + (-1 * x64 * x29) + (x66 * x39) + (x30 * x14);
	out[48] = (-1 * x67 * x37) + (-1 * x46) + (x68 * obj_qj) + (x3 * x14) + (-1 * x64 * x35);
	out[49] = (x35 * x14) + x71 + (-1 * x67 * x42) + (x69 * x39) + (-1 * x2 * x64);
	out[50] = (-1 * x53 * obj_qi) + x34 + (x72 * obj_qj) + (-1 * x70);
	out[51] = 0;
	out[52] = 0;
	out[53] = 0;
	out[54] = 0;
	out[55] = 0;
	out[56] = 0;
	out[57] = x61 + x62;
	out[58] = (-1 * x74) + x75;
	out[59] = x56 + x73;
	out[60] = 0;
	out[61] = 0;
	out[62] = 1;
	out[63] = 0;
	out[64] = 0;
	out[65] = 0;
}

static inline void gen_quatrotateabout(FLT* out, const FLT* q1, const FLT* q2) {
	const GEN_FLT obj_qw = q1[0];
	const GEN_FLT obj_qi = q1[1];
	const GEN_FLT obj_qj = q1[2];
	const GEN_FLT obj_qk = q1[3];
	const GEN_FLT q1_w = q2[0];
	const GEN_FLT q1_x = q2[1];
	const GEN_FLT q1_y = q2[2];
	const GEN_FLT q1_z = q2[3];

	out[0] = (-1 * q1_x * obj_qi) + (q1_w * obj_qw) + (-1 * q1_z * obj_qk) + (-1 * q1_y * obj_qj);
	out[1] = (q1_w * obj_qi) + (q1_z * obj_qj) + (q1_x * obj_qw) + (-1 * q1_y * obj_qk);
	out[2] = (-1 * q1_z * obj_qi) + (q1_x * obj_qk) + (q1_y * obj_qw) + (q1_w * obj_qj);
	out[3] = (q1_y * obj_qi) + (q1_z * obj_qw) + (q1_w * obj_qk) + (-1 * q1_x * obj_qj);
}

// Jacobian of quatrotateabout wrt [obj_qw, obj_qi, obj_qj, obj_qk]
static inline void gen_quatrotateabout_jac_q1(FLT* out, const FLT* q1, const FLT* q2) {
	const GEN_FLT obj_qw = q1[0];
	const GEN_FLT obj_qi = q1[1];
	const GEN_FLT obj_qj = q1[2];
	const GEN_FLT obj_qk = q1[3];
	const GEN_FLT q1_w = q2[0];
	const GEN_FLT q1_x = q2[1];
	const GEN_FLT q1_y = q2[2];
	const GEN_FLT q1_z = q2[3];
	const GEN_FLT x0 = -1 * q1_x;
	const GEN_FLT x1 = -1 * q1_y;
	const GEN_FLT x2 = -1 * q1_z;
	out[0] = q1_w;
	out[1] = x0;
	out[2] = x1;
	out[3] = x2;
	out[4] = q1_x;
	out[5] = q1_w;
	out[6] = q1_z;
	out[7] = x1;
	out[8] = q1_y;
	out[9] = x2;
	out[10] = q1_w;
	out[11] = q1_x;
	out[12] = q1_z;
	out[13] = q1_y;
	out[14] = x0;
	out[15] = q1_w;
}

// Jacobian of quatrotateabout wrt [q1_w, q1_x, q1_y, q1_z]
static inline void gen_quatrotateabout_jac_q2(FLT* out, const FLT* q1, const FLT* q2) {
	const GEN_FLT obj_qw = q1[0];
	const GEN_FLT obj_qi = q1[1];
	const GEN_FLT obj_qj = q1[2];
	const GEN_FLT obj_qk = q1[3];
	const GEN_FLT q1_w = q2[0];
	const GEN_FLT q1_x = q2[1];
	const GEN_FLT q1_y = q2[2];
	const GEN_FLT q1_z = q2[3];
	const GEN_FLT x0 = -1 * obj_qi;
	const GEN_FLT x1 = -1 * obj_qj;
	const GEN_FLT x2 = -1 * obj_qk;
	out[0] = obj_qw;
	out[1] = x0;
	out[2] = x1;
	out[3] = x2;
	out[4] = obj_qi;
	out[5] = obj_qw;
	out[6] = x2;
	out[7] = obj_qj;
	out[8] = obj_qj;
	out[9] = obj_qk;
	out[10] = obj_qw;
	out[11] = x0;
	out[12] = obj_qk;
	out[13] = x1;
	out[14] = obj_qi;
	out[15] = obj_qw;
}

static inline void gen_imu_predict(FLT* out, const SurviveKalmanModel* kalman_model) {
	const GEN_FLT obj_px = (*kalman_model).Pose.Pos[0];
	const GEN_FLT obj_py = (*kalman_model).Pose.Pos[1];
	const GEN_FLT obj_pz = (*kalman_model).Pose.Pos[2];
	const GEN_FLT obj_qw = (*kalman_model).Pose.Rot[0];
	const GEN_FLT obj_qi = (*kalman_model).Pose.Rot[1];
	const GEN_FLT obj_qj = (*kalman_model).Pose.Rot[2];
	const GEN_FLT obj_qk = (*kalman_model).Pose.Rot[3];
	const GEN_FLT vx = (*kalman_model).Velocity.Pos[0];
	const GEN_FLT vy = (*kalman_model).Velocity.Pos[1];
	const GEN_FLT vz = (*kalman_model).Velocity.Pos[2];
	const GEN_FLT avx = (*kalman_model).Velocity.AxisAngleRot[0];
	const GEN_FLT avy = (*kalman_model).Velocity.AxisAngleRot[1];
	const GEN_FLT avz = (*kalman_model).Velocity.AxisAngleRot[2];
	const GEN_FLT acc_x = (*kalman_model).Acc[0];
	const GEN_FLT acc_y = (*kalman_model).Acc[1];
	const GEN_FLT acc_z = (*kalman_model).Acc[2];
	const GEN_FLT acc_biasx = (*kalman_model).AccBias[0];
	const GEN_FLT acc_biasy = (*kalman_model).AccBias[1];
	const GEN_FLT acc_biasz = (*kalman_model).AccBias[2];
	const GEN_FLT gbx = (*kalman_model).GyroBias[0];
	const GEN_FLT gby = (*kalman_model).GyroBias[1];
	const GEN_FLT gbz = (*kalman_model).GyroBias[2];
	const GEN_FLT x0 = 0.101971621297793 * acc_x;
	const GEN_FLT x1 = 0.101971621297793 * acc_y;
	const GEN_FLT x2 = 1. / sqrt(1e-11 + (obj_qw * obj_qw) + (obj_qi * obj_qi) + (obj_qj * obj_qj) + (obj_qk * obj_qk));
	const GEN_FLT x3 = x2 * obj_qw;
	const GEN_FLT x4 = x2 * obj_qk;
	const GEN_FLT x5 = 1 + (0.101971621297793 * acc_z);
	const GEN_FLT x6 = x2 * obj_qi;
	const GEN_FLT x7 = (x6 * x5) + (x1 * x3) + (-1 * x0 * x4);
	const GEN_FLT x8 = x2 * obj_qj;
	const GEN_FLT x9 = (x3 * x5) + (x0 * x8) + (-1 * x1 * x6);
	const GEN_FLT x10 = (x1 * x4) + (x0 * x3) + (-1 * x5 * x8);
	const GEN_FLT x11 = x2 * avx;
	const GEN_FLT x12 = x2 * avy;
	const GEN_FLT x13 = x2 * avz;
	const GEN_FLT x14 = (x13 * obj_qi) + (-1 * x11 * obj_qk) + (x12 * obj_qw);
	const GEN_FLT x15 = (x8 * avx) + (x13 * obj_qw) + (-1 * x12 * obj_qi);
	const GEN_FLT x16 = (x12 * obj_qk) + (x11 * obj_qw) + (-1 * x8 * avz);
	out[0] = (2 * ((-1 * x8 * x9) + (x4 * x7))) + acc_biasx + x0;
	out[1] = (2 * ((-1 * x4 * x10) + (x6 * x9))) + acc_biasy + x1;
	out[2] = acc_biasz + x5 + (2 * ((-1 * x6 * x7) + (x8 * x10)));
	out[3] = (2 * ((-1 * x8 * x15) + (x4 * x14))) + gbx + avx;
	out[4] = (2 * ((-1 * x4 * x16) + (x6 * x15))) + gby + avy;
	out[5] = (2 * ((-1 * x6 * x14) + (x8 * x16))) + gbz + avz;
}

// Jacobian of imu_predict wrt [obj_px, obj_py, obj_pz, obj_qw, obj_qi, obj_qj, obj_qk, vx, vy, vz, avx, avy, avz, acc_x, acc_y, acc_z, acc_biasx, acc_biasy, acc_biasz, gbx, gby, gbz]
static inline void gen_imu_predict_jac_kalman_model(FLT* out, const SurviveKalmanModel* kalman_model) {
	const GEN_FLT obj_px = (*kalman_model).Pose.Pos[0];
	const GEN_FLT obj_py = (*kalman_model).Pose.Pos[1];
	const GEN_FLT obj_pz = (*kalman_model).Pose.Pos[2];
	const GEN_FLT obj_qw = (*kalman_model).Pose.Rot[0];
	const GEN_FLT obj_qi = (*kalman_model).Pose.Rot[1];
	const GEN_FLT obj_qj = (*kalman_model).Pose.Rot[2];
	const GEN_FLT obj_qk = (*kalman_model).Pose.Rot[3];
	const GEN_FLT vx = (*kalman_model).Velocity.Pos[0];
	const GEN_FLT vy = (*kalman_model).Velocity.Pos[1];
	const GEN_FLT vz = (*kalman_model).Velocity.Pos[2];
	const GEN_FLT avx = (*kalman_model).Velocity.AxisAngleRot[0];
	const GEN_FLT avy = (*kalman_model).Velocity.AxisAngleRot[1];
	const GEN_FLT avz = (*kalman_model).Velocity.AxisAngleRot[2];
	const GEN_FLT acc_x = (*kalman_model).Acc[0];
	const GEN_FLT acc_y = (*kalman_model).Acc[1];
	const GEN_FLT acc_z = (*kalman_model).Acc[2];
	const GEN_FLT acc_biasx = (*kalman_model).AccBias[0];
	const GEN_FLT acc_biasy = (*kalman_model).AccBias[1];
	const GEN_FLT acc_biasz = (*kalman_model).AccBias[2];
	const GEN_FLT gbx = (*kalman_model).GyroBias[0];
	const GEN_FLT gby = (*kalman_model).GyroBias[1];
	const GEN_FLT gbz = (*kalman_model).GyroBias[2];
	const GEN_FLT x0 = obj_qw * obj_qw;
	const GEN_FLT x1 = obj_qk * obj_qk;
	const GEN_FLT x2 = obj_qj * obj_qj;
	const GEN_FLT x3 = obj_qi * obj_qi;
	const GEN_FLT x4 = 1e-11 + x2 + x3 + x0 + x1;
	const GEN_FLT x5 = 1. / sqrt(x4);
	const GEN_FLT x6 = 0.101971621297793 * x5;
	const GEN_FLT x7 = x6 * acc_y;
	const GEN_FLT x8 = x6 * acc_x;
	const GEN_FLT x9 = 1 + (0.101971621297793 * acc_z);
	const GEN_FLT x10 = x5 * x9;
	const GEN_FLT x11 = (x7 * obj_qw) + (x10 * obj_qi) + (-1 * x8 * obj_qk);
	const GEN_FLT x12 = 1. / (x4 * sqrt(x4));
	const GEN_FLT x13 = 2 * x12;
	const GEN_FLT x14 = x13 * x11;
	const GEN_FLT x15 = obj_qw * obj_qk;
	const GEN_FLT x16 = x9 * x12;
	const GEN_FLT x17 = obj_qw * obj_qi;
	const GEN_FLT x18 = -1 * x17 * x16;
	const GEN_FLT x19 = 0.101971621297793 * acc_x;
	const GEN_FLT x20 = x12 * x19;
	const GEN_FLT x21 = x20 * x15;
	const GEN_FLT x22 = x0 * x12;
	const GEN_FLT x23 = 0.101971621297793 * acc_y;
	const GEN_FLT x24 = (-1 * x22 * x23) + x7 + x18 + x21;
	const GEN_FLT x25 = 2 * x5;
	const GEN_FLT x26 = x25 * obj_qk;
	const GEN_FLT x27 = (x8 * obj_qj) + (x10 * obj_qw) + (-1 * x7 * obj_qi);
	const GEN_FLT x28 = x27 * x13;
	const GEN_FLT x29 = obj_qw * obj_qj;
	const GEN_FLT x30 = x23 * x12;
	const GEN_FLT x31 = x30 * x17;
	const GEN_FLT x32 = -1 * x20 * x29;
	const GEN_FLT x33 = x10 + x31 + x32 + (-1 * x9 * x22);
	const GEN_FLT x34 = x25 * obj_qj;
	const GEN_FLT x35 = obj_qk * obj_qi;
	const GEN_FLT x36 = x35 * x14;
	const GEN_FLT x37 = obj_qj * obj_qi;
	const GEN_FLT x38 = x37 * x28;
	const GEN_FLT x39 = (-1 * x31) + (x35 * x20) + x10 + (-1 * x3 * x16);
	const GEN_FLT x40 = (x3 * x30) + x18 + (-1 * x7) + (-1 * x37 * x20);
	const GEN_FLT x41 = obj_qk * obj_qj;
	const GEN_FLT x42 = x37 * x16;
	const GEN_FLT x43 = x41 * x20;
	const GEN_FLT x44 = x43 + (-1 * x42) + (-1 * x30 * x29);
	const GEN_FLT x45 = x29 * x16;
	const GEN_FLT x46 = x25 * ((-1 * x45) + x8 + (x30 * x37) + (-1 * x2 * x20));
	const GEN_FLT x47 = x25 * x27;
	const GEN_FLT x48 = x25 * x11;
	const GEN_FLT x49 = x16 * obj_qk;
	const GEN_FLT x50 = x30 * x35;
	const GEN_FLT x51 = x50 + (-1 * x49 * obj_qw) + (-1 * x43);
	const GEN_FLT x52 = -1 * x30 * x15;
	const GEN_FLT x53 = (x1 * x20) + x52 + (-1 * x35 * x16) + (-1 * x8);
	const GEN_FLT x54 = 1. / x4;
	const GEN_FLT x55 = 0.203943242595586 * x54;
	const GEN_FLT x56 = -1 * x1 * x55;
	const GEN_FLT x57 = -1 * x2 * x55;
	const GEN_FLT x58 = x55 * x15;
	const GEN_FLT x59 = x55 * x37;
	const GEN_FLT x60 = x55 * x35;
	const GEN_FLT x61 = x55 * x29;
	const GEN_FLT x62 = (x7 * obj_qk) + (x8 * obj_qw) + (-1 * x10 * obj_qj);
	const GEN_FLT x63 = x62 * x13;
	const GEN_FLT x64 = x8 + (-1 * x22 * x19) + x52 + x45;
	const GEN_FLT x65 = x25 * obj_qi;
	const GEN_FLT x66 = x42 + (-1 * x50) + (-1 * x20 * x17);
	const GEN_FLT x67 = (x2 * x16) + x32 + (-1 * x41 * x30) + (-1 * x10);
	const GEN_FLT x68 = x63 * x41;
	const GEN_FLT x69 = x62 * x25;
	const GEN_FLT x70 = (x49 * obj_qj) + (-1 * x21) + x7 + (-1 * x1 * x30);
	const GEN_FLT x71 = 0.101971621297793 + (-1 * x3 * x55);
	const GEN_FLT x72 = x55 * x17;
	const GEN_FLT x73 = x55 * x41;
	const GEN_FLT x74 = x5 * avx;
	const GEN_FLT x75 = x5 * avy;
	const GEN_FLT x76 = x5 * avz;
	const GEN_FLT x77 = (x76 * obj_qi) + (-1 * x74 * obj_qk) + (x75 * obj_qw);
	const GEN_FLT x78 = x77 * x13;
	const GEN_FLT x79 = (x76 * obj_qw) + (x74 * obj_qj) + (-1 * x75 * obj_qi);
	const GEN_FLT x80 = x79 * x13;
	const GEN_FLT x81 = x12 * avx;
	const GEN_FLT x82 = -1 * x81 * x29;
	const GEN_FLT x83 = x12 * avy;
	const GEN_FLT x84 = x83 * x17;
	const GEN_FLT x85 = x12 * avz;
	const GEN_FLT x86 = x76 + (-1 * x0 * x85) + x82 + x84;
	const GEN_FLT x87 = -1 * x85 * x17;
	const GEN_FLT x88 = x81 * x15;
	const GEN_FLT x89 = (-1 * x0 * x83) + x75 + x87 + x88;
	const GEN_FLT x90 = x78 * x35;
	const GEN_FLT x91 = x80 * x37;
	const GEN_FLT x92 = (-1 * x84) + (x81 * x35) + (-1 * x3 * x85) + x76;
	const GEN_FLT x93 = (x3 * x83) + (-1 * x75) + (-1 * x81 * x37) + x87;
	const GEN_FLT x94 = x85 * x29;
	const GEN_FLT x95 = x83 * obj_qj;
	const GEN_FLT x96 = (x95 * obj_qi) + (-1 * x2 * x81) + x74 + (-1 * x94);
	const GEN_FLT x97 = x79 * x25;
	const GEN_FLT x98 = x81 * x41;
	const GEN_FLT x99 = x85 * x37;
	const GEN_FLT x100 = x98 + (-1 * x95 * obj_qw) + (-1 * x99);
	const GEN_FLT x101 = x77 * x25;
	const GEN_FLT x102 = x83 * obj_qk;
	const GEN_FLT x103 = -1 * x102 * obj_qw;
	const GEN_FLT x104 = (x1 * x81) + x103 + (-1 * x74) + (-1 * x85 * x35);
	const GEN_FLT x105 = x102 * obj_qi;
	const GEN_FLT x106 = x105 + (-1 * x98) + (-1 * x85 * x15);
	const GEN_FLT x107 = 2 * x54;
	const GEN_FLT x108 = -1 * x2 * x107;
	const GEN_FLT x109 = 1 + (-1 * x1 * x107);
	const GEN_FLT x110 = x15 * x107;
	const GEN_FLT x111 = x37 * x107;
	const GEN_FLT x112 = x35 * x107;
	const GEN_FLT x113 = x29 * x107;
	const GEN_FLT x114 = (x75 * obj_qk) + (x74 * obj_qw) + (-1 * x76 * obj_qj);
	const GEN_FLT x115 = x13 * x114;
	const GEN_FLT x116 = x74 + (-1 * x22 * avx) + x103 + x94;
	const GEN_FLT x117 = x99 + (-1 * x105) + (-1 * x81 * x17);
	const GEN_FLT x118 = x41 * x115;
	const GEN_FLT x119 = (x2 * x85) + x82 + (-1 * x76) + (-1 * x102 * obj_qj);
	const GEN_FLT x120 = x25 * x114;
	const GEN_FLT x121 = (x85 * x41) + (-1 * x1 * x83) + x75 + (-1 * x88);
	const GEN_FLT x122 = -1 * x3 * x107;
	const GEN_FLT x123 = x17 * x107;
	const GEN_FLT x124 = x41 * x107;
	out[0] = 0;
	out[1] = 0;
	out[2] = 0;
	out[3] = (-1 * x34 * x33) + (x28 * x29) + (-1 * x15 * x14) + (x24 * x26);
	out[4] = (-1 * x40 * x34) + (x39 * x26) + (-1 * x36) + x38;
	out[5] = (-1 * x47) + (-1 * x46 * obj_qj) + (x44 * x26) + (-1 * x41 * x14) + (x2 * x28);
	out[6] = (x41 * x28) + x48 + (x53 * x26) + (-1 * x51 * x34) + (-1 * x1 * x14);
	out[7] = 0;
	out[8] = 0;
	out[9] = 0;
	out[10] = 0;
	out[11] = 0;
	out[12] = 0;
	out[13] = 0.101971621297793 + x57 + x56;
	out[14] = x59 + x58;
	out[15] = (-1 * x61) + x60;
	out[16] = 1;
	out[17] = 0;
	out[18] = 0;
	out[19] = 0;
	out[20] = 0;
	out[21] = 0;
	out[22] = 0;
	out[23] = 0;
	out[24] = 0;
	out[25] = (x65 * x33) + (-1 * x64 * x26) + (-1 * x28 * x17) + (x63 * x15);
	out[26] = (-1 * x3 * x28) + (x63 * x35) + x47 + (-1 * x66 * x26) + (x65 * x40);
	out[27] = (-1 * x67 * x26) + x68 + (-1 * x38) + (x46 * obj_qi);
	out[28] = (-1 * x70 * x26) + (-1 * x69) + (-1 * x35 * x28) + (x1 * x63) + (x65 * x51);
	out[29] = 0;
	out[30] = 0;
	out[31] = 0;
	out[32] = 0;
	out[33] = 0;
	out[34] = 0;
	out[35] = (-1 * x58) + x59;
	out[36] = x71 + x56;
	out[37] = x73 + x72;
	out[38] = 0;
	out[39] = 1;
	out[40] = 0;
	out[41] = 0;
	out[42] = 0;
	out[43] = 0;
	out[44] = 0;
	out[45] = 0;
	out[46] = 0;
	out[47] = (-1 * x63 * x29) + (-1 * x65 * x24) + (x64 * x34) + (x14 * x17);
	out[48] = (-1 * x65 * x39) + (x3 * x14) + (-1 * x48) + (x66 * x34) + (-1 * x63 * x37);
	out[49] = (-1 * x65 * x44) + (x37 * x14) + (x67 * x34) + x69 + (-1 * x2 * x63);
	out[50] = (-1 * x65 * x53) + x36 + (x70 * x34) + (-1 * x68);
	out[51] = 0;
	out[52] = 0;
	out[53] = 0;
	out[54] = 0;
	out[55] = 0;
	out[56] = 0;
	out[57] = x60 + x61;
	out[58] = (-1 * x72) + x73;
	out[59] = x71 + x57;
	out[60] = 0;
	out[61] = 0;
	out[62] = 1;
	out[63] = 0;
	out[64] = 0;
	out[65] = 0;
	out[66] = 0;
	out[67] = 0;
	out[68] = 0;
	out[69] = (x89 * x26) + (-1 * x86 * x34) + (-1 * x78 * x15) + (x80 * x29);
	out[70] = (-1 * x93 * x34) + (-1 * x90) + (x92 * x26) + x91;
	out[71] = (x26 * x100) + (x2 * x80) + (-1 * x78 * x41) + (-1 * x97) + (-1 * x96 * x34);
	out[72] = (x80 * x41) + x101 + (-1 * x34 * x106) + (-1 * x1 * x78) + (x26 * x104);
	out[73] = 0;
	out[74] = 0;
	out[75] = 0;
	out[76] = x109 + x108;
	out[77] = x111 + x110;
	out[78] = (-1 * x113) + x112;
	out[79] = 0;
	out[80] = 0;
	out[81] = 0;
	out[82] = 0;
	out[83] = 0;
	out[84] = 0;
	out[85] = 1;
	out[86] = 0;
	out[87] = 0;
	out[88] = 0;
	out[89] = 0;
	out[90] = 0;
	out[91] = (-1 * x26 * x116) + (x86 * x65) + (-1 * x80 * x17) + (x15 * x115);
	out[92] = (x65 * x93) + (-1 * x3 * x80) + x97 + (-1 * x26 * x117) + (x35 * x115);
	out[93] = x118 + (-1 * x26 * x119) + (-1 * x91) + (x65 * x96);
	out[94] = (x65 * x106) + (x1 * x115) + (-1 * x80 * x35) + (-1 * x26 * x121) + (-1 * x120);
	out[95] = 0;
	out[96] = 0;
	out[97] = 0;
	out[98] = (-1 * x110) + x111;
	out[99] = x109 + x122;
	out[100] = x124 + x123;
	out[101] = 0;
	out[102] = 0;
	out[103] = 0;
	out[104] = 0;
	out[105] = 0;
	out[106] = 0;
	out[107] = 0;
	out[108] = 1;
	out[109] = 0;
	out[110] = 0;
	out[111] = 0;
	out[112] = 0;
	out[113] = (x78 * x17) + (-1 * x29 * x115) + (-1 * x89 * x65) + (x34 * x116);
	out[114] = (-1 * x101) + (x34 * x117) + (-1 * x37 * x115) + (x3 * x78) + (-1 * x65 * x92);
	out[115] = (-1 * x2 * x115) + (x34 * x119) + (x78 * x37) + x120 + (-1 * x65 * x100);
	out[116] = (-1 * x65 * x104) + (-1 * x118) + x90 + (x34 * x121);
	out[117] = 0;
	out[118] = 0;
	out[119] = 0;
	out[120] = x112 + x113;
	out[121] = (-1 * x123) + x124;
	out[122] = 1 + x122 + x108;
	out[123] = 0;
	out[124] = 0;
	out[125] = 0;
	out[126] = 0;
	out[127] = 0;
	out[128] = 0;
	out[129] = 0;
	out[130] = 0;
	out[131] = 1;
}

static inline void gen_imu_predict_gyro(FLT* out, const SurviveKalmanModel* kalman_model) {
	const GEN_FLT obj_px = (*kalman_model).Pose.Pos[0];
	const GEN_FLT obj_py = (*kalman_model).Pose.Pos[1];
	const GEN_FLT obj_pz = (*kalman_model).Pose.Pos[2];
	const GEN_FLT obj_qw = (*kalman_model).Pose.Rot[0];
	const GEN_FLT obj_qi = (*kalman_model).Pose.Rot[1];
	const GEN_FLT obj_qj = (*kalman_model).Pose.Rot[2];
	const GEN_FLT obj_qk = (*kalman_model).Pose.Rot[3];
	const GEN_FLT vx = (*kalman_model).Velocity.Pos[0];
	const GEN_FLT vy = (*kalman_model).Velocity.Pos[1];
	const GEN_FLT vz = (*kalman_model).Velocity.Pos[2];
	const GEN_FLT avx = (*kalman_model).Velocity.AxisAngleRot[0];
	const GEN_FLT avy = (*kalman_model).Velocity.AxisAngleRot[1];
	const GEN_FLT avz = (*kalman_model).Velocity.AxisAngleRot[2];
	const GEN_FLT acc_x = (*kalman_model).Acc[0];
	const GEN_FLT acc_y = (*kalman_model).Acc[1];
	const GEN_FLT acc_z = (*kalman_model).Acc[2];
	const GEN_FLT acc_biasx = (*kalman_model).AccBias[0];
	const GEN_FLT acc_biasy = (*kalman_model).AccBias[1];
	const GEN_FLT acc_biasz = (*kalman_model).AccBias[2];
	const GEN_FLT gbx = (*kalman_model).GyroBias[0];
	const GEN_FLT gby = (*kalman_model).GyroBias[1];
	const GEN_FLT gbz = (*kalman_model).GyroBias[2];
	const GEN_FLT x0 = 1. / sqrt(1e-11 + (obj_qw * obj_qw) + (obj_qi * obj_qi) + (obj_qj * obj_qj) + (obj_qk * obj_qk));
	const GEN_FLT x1 = x0 * avx;
	const GEN_FLT x2 = x0 * avy;
	const GEN_FLT x3 = x0 * avz;
	const GEN_FLT x4 = x0 * ((x3 * obj_qi) + (-1 * x1 * obj_qk) + (x2 * obj_qw));
	const GEN_FLT x5 = x0 * ((x1 * obj_qj) + (x3 * obj_qw) + (-1 * x2 * obj_qi));
	const GEN_FLT x6 = x0 * ((x2 * obj_qk) + (x1 * obj_qw) + (-1 * x3 * obj_qj));
	out[0] = (2 * ((-1 * x5 * obj_qj) + (x4 * obj_qk))) + gbx + avx;
	out[1] = (2 * ((-1 * x6 * obj_qk) + (x5 * obj_qi))) + gby + avy;
	out[2] = (2 * ((-1 * x4 * obj_qi) + (x6 * obj_qj))) + gbz + avz;
}

// Jacobian of imu_predict_gyro wrt [obj_px, obj_py, obj_pz, obj_qw, obj_qi, obj_qj, obj_qk, vx, vy, vz, avx, avy, avz, acc_x, acc_y, acc_z, acc_biasx, acc_biasy, acc_biasz, gbx, gby, gbz]
static inline void gen_imu_predict_gyro_jac_kalman_model(FLT* out, const SurviveKalmanModel* kalman_model) {
	const GEN_FLT obj_px = (*kalman_model).Pose.Pos[0];
	const GEN_FLT obj_py = (*kalman_model).Pose.Pos[1];
	const GEN_FLT obj_pz = (*kalman_model).Pose.Pos[2];
	const GEN_FLT obj_qw = (*kalman_model).Pose.Rot[0];
	const GEN_FLT obj_qi = (*kalman_model).Pose.Rot[1];
	const GEN_FLT obj_qj = (*kalman_model).Pose.Rot[2];
	const GEN_FLT obj_qk = (*kalman_model).Pose.Rot[3];
	const GEN_FLT vx = (*kalman_model).Velocity.Pos[0];
	const GEN_FLT vy = (*kalman_model).Velocity.Pos[1];
	const GEN_FLT vz = (*kalman_model).Velocity.Pos[2];
	const GEN_FLT avx = (*kalman_model).Velocity.AxisAngleRot[0];
	const GEN_FLT avy = (*kalman_model).Velocity.AxisAngleRot[1];
	const GEN_FLT avz = (*kalman_model).Velocity.AxisAngleRot[2];
	const GEN_FLT acc_x = (*kalman_model).Acc[0];
	const GEN_FLT acc_y = (*kalman_model).Acc[1];
	const GEN_FLT acc_z = (*kalman_model).Acc[2];
	const GEN_FLT acc_biasx = (*kalman_model).AccBias[0];
	const GEN_FLT acc_biasy = (*kalman_model).AccBias[1];
	const GEN_FLT acc_biasz = (*kalman_model).AccBias[2];
	const GEN_FLT gbx = (*kalman_model).GyroBias[0];
	const GEN_FLT gby = (*kalman_model).GyroBias[1];
	const GEN_FLT gbz = (*kalman_model).GyroBias[2];
	const GEN_FLT x0 = obj_qw * obj_qk;
	const GEN_FLT x1 = obj_qw * obj_qw;
	const GEN_FLT x2 = obj_qk * obj_qk;
	const GEN_FLT x3 = obj_qj * obj_qj;
	const GEN_FLT x4 = obj_qi * obj_qi;
	const GEN_FLT x5 = 1e-11 + x4 + x3 + x1 + x2;
	const GEN_FLT x6 = 1. / (x5 * sqrt(x5));
	const GEN_FLT x7 = 1. / sqrt(x5);
	const GEN_FLT x8 = x7 * avx;
	const GEN_FLT x9 = x7 * avy;
	const GEN_FLT x10 = x7 * avz;
	const GEN_FLT x11 = (x10 * obj_qi) + (-1 * x8 * obj_qk) + (x9 * obj_qw);
	const GEN_FLT x12 = 2 * x11;
	const GEN_FLT x13 = x6 * x12;
	const GEN_FLT x14 = obj_qw * obj_qj;
	const GEN_FLT x15 = (x8 * obj_qj) + (x10 * obj_qw) + (-1 * x9 * obj_qi);
	const GEN_FLT x16 = 2 * x15;
	const GEN_FLT x17 = x6 * x16;
	const GEN_FLT x18 = x6 * avx;
	const GEN_FLT x19 = -1 * x14 * x18;
	const GEN_FLT x20 = x6 * avy;
	const GEN_FLT x21 = x20 * obj_qi;
	const GEN_FLT x22 = x21 * obj_qw;
	const GEN_FLT x23 = x6 * avz;
	const GEN_FLT x24 = 2 * x7;
	const GEN_FLT x25 = x24 * (x10 + (-1 * x1 * x23) + x19 + x22);
	const GEN_FLT x26 = x23 * obj_qi;
	const GEN_FLT x27 = -1 * x26 * obj_qw;
	const GEN_FLT x28 = x0 * x18;
	const GEN_FLT x29 = (-1 * x1 * x20) + x9 + x27 + x28;
	const GEN_FLT x30 = x24 * obj_qk;
	const GEN_FLT x31 = obj_qk * obj_qi;
	const GEN_FLT x32 = x31 * x13;
	const GEN_FLT x33 = obj_qj * obj_qi;
	const GEN_FLT x34 = x33 * x17;
	const GEN_FLT x35 = x24 * ((-1 * x22) + (-1 * x4 * x23) + (x31 * x18) + x10);
	const GEN_FLT x36 = x18 * obj_qi;
	const GEN_FLT x37 = (x4 * x20) + (-1 * x9) + (-1 * x36 * obj_qj) + x27;
	const GEN_FLT x38 = x24 * obj_qj;
	const GEN_FLT x39 = obj_qk * obj_qj;
	const GEN_FLT x40 = x23 * x14;
	const GEN_FLT x41 = x3 * x6;
	const GEN_FLT x42 = x24 * ((x21 * obj_qj) + (-1 * x41 * avx) + x8 + (-1 * x40));
	const GEN_FLT x43 = x24 * x15;
	const GEN_FLT x44 = x39 * x18;
	const GEN_FLT x45 = x26 * obj_qj;
	const GEN_FLT x46 = (-1 * x20 * x14) + x44 + (-1 * x45);
	const GEN_FLT x47 = x24 * x11;
	const GEN_FLT x48 = -1 * x0 * x20;
	const GEN_FLT x49 = x24 * ((x2 * x18) + (-1 * x8) + x48 + (-1 * x31 * x23));
	const GEN_FLT x50 = x2 * x6;
	const GEN_FLT x51 = x21 * obj_qk;
	const GEN_FLT x52 = x24 * (x51 + (-1 * x44) + (-1 * x0 * x23));
	const GEN_FLT x53 = 2 * (1. / x5);
	const GEN_FLT x54 = -1 * x2 * x53;
	const GEN_FLT x55 = -1 * x3 * x53;
	const GEN_FLT x56 = x0 * x53;
	const GEN_FLT x57 = x53 * obj_qi;
	const GEN_FLT x58 = x57 * obj_qj;
	const GEN_FLT x59 = x57 * obj_qk;
	const GEN_FLT x60 = x53 * x14;
	const GEN_FLT x61 = obj_qw * obj_qi;
	const GEN_FLT x62 = (x9 * obj_qk) + (x8 * obj_qw) + (-1 * x10 * obj_qj);
	const GEN_FLT x63 = 2 * x62;
	const GEN_FLT x64 = x6 * x63;
	const GEN_FLT x65 = x24 * ((-1 * x1 * x18) + x8 + x48 + x40);
	const GEN_FLT x66 = x4 * x6;
	const GEN_FLT x67 = x24 * obj_qi;
	const GEN_FLT x68 = x45 + (-1 * x51) + (-1 * x36 * obj_qw);
	const GEN_FLT x69 = x64 * x39;
	const GEN_FLT x70 = ((x41 * avz) + x19 + (-1 * x10) + (-1 * x39 * x20)) * x24;
	const GEN_FLT x71 = x62 * x24;
	const GEN_FLT x72 = (-1 * x2 * x20) + (x39 * x23) + x9 + (-1 * x28);
	const GEN_FLT x73 = 1 + (-1 * x4 * x53);
	const GEN_FLT x74 = x57 * obj_qw;
	const GEN_FLT x75 = x53 * x39;
	const GEN_FLT x76 = x6 * x33;
	out[0] = 0;
	out[1] = 0;
	out[2] = 0;
	out[3] = (x30 * x29) + (-1 * x0 * x13) + (-1 * x25 * obj_qj) + (x14 * x17);
	out[4] = (-1 * x38 * x37) + (-1 * x32) + (x35 * obj_qk) + x34;
	out[5] = (x46 * x30) + (-1 * x43) + (x41 * x16) + (-1 * x39 * x13) + (-1 * x42 * obj_qj);
	out[6] = (x39 * x17) + (-1 * x52 * obj_qj) + (-1 * x50 * x12) + x47 + (x49 * obj_qk);
	out[7] = 0;
	out[8] = 0;
	out[9] = 0;
	out[10] = 1 + x55 + x54;
	out[11] = x58 + x56;
	out[12] = (-1 * x60) + x59;
	out[13] = 0;
	out[14] = 0;
	out[15] = 0;
	out[16] = 0;
	out[17] = 0;
	out[18] = 0;
	out[19] = 1;
	out[20] = 0;
	out[21] = 0;
	out[22] = 0;
	out[23] = 0;
	out[24] = 0;
	out[25] = (x25 * obj_qi) + (-1 * x65 * obj_qk) + (-1 * x61 * x17) + (x0 * x64);
	out[26] = (x67 * x37) + (-1 * x66 * x16) + (-1 * x68 * x30) + x43 + (x64 * x31);
	out[27] = x69 + (-1 * x34) + (-1 * x70 * obj_qk) + (x42 * obj_qi);
	out[28] = (x52 * obj_qi) + (-1 * x72 * x30) + (-1 * x31 * x17) + (x63 * x50) + (-1 * x71);
	out[29] = 0;
	out[30] = 0;
	out[31] = 0;
	out[32] = (-1 * x56) + x58;
	out[33] = x73 + x54;
	out[34] = x75 + x74;
	out[35] = 0;
	out[36] = 0;
	out[37] = 0;
	out[38] = 0;
	out[39] = 0;
	out[40] = 0;
	out[41] = 0;
	out[42] = 1;
	out[43] = 0;
	out[44] = 0;
	out[45] = 0;
	out[46] = 0;
	out[47] = (-1 * x67 * x29) + (-1 * x64 * x14) + (x61 * x13) + (x65 * obj_qj);
	out[48] = (-1 * x47) + (x66 * x12) + (x68 * x38) + (-1 * x76 * x63) + (-1 * x35 * obj_qi);
	out[49] = (-1 * x63 * x41) + (x76 * x12) + (x70 * obj_qj) + x71 + (-1 * x67 * x46);
	out[50] = x32 + (-1 * x49 * obj_qi) + (-1 * x69) + (x72 * x38);
	out[51] = 0;
	out[52] = 0;
	out[53] = 0;
	out[54] = x59 + x60;
	out[55] = (-1 * x74) + x75;
	out[56] = x73 + x55;
	out[57] = 0;
	out[58] = 0;
	out[59] = 0;
	out[60] = 0;
	out[61] = 0;
	out[62] = 0;
	out[63] = 0;
	out[64] = 0;
	out[65] = 1;
}

